!function(e){define("angular-animate",["angular"],function(){return function(){!function(e,t,n){"use strict";t.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(e,n,i){i=i.ngAnimateChildren,t.isString(i)&&0===i.length?n.data("$$ngAnimateChildren",!0):e.$watch(i,function(e){n.data("$$ngAnimateChildren",!!e)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){return function(t){return e(function(){t()})}}]).config(["$provide","$animateProvider",function(i,r){function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(1==n.nodeType)return n}}function o(e,t){return a(e)==a(t)}var s,c=t.noop,u=t.forEach,l=r.$$selectors,d=t.isArray,p=t.isString,m=t.isObject,f={running:!0};i.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(e,n,i,g,h,v,y,b,w,k){function $(e,t){var n=e.data("$$ngAnimateState")||{};return t&&(n.running=!0,n.structural=!0,e.data("$$ngAnimateState",n)),n.disabled||n.running&&n.structural}function _(e){var t,i=n.defer();return i.promise.$$cancelFn=function(){t&&t()},y.$$postDigest(function(){t=e(function(){i.resolve()})}),i.promise}function x(e){return m(e)?(e.tempClasses&&p(e.tempClasses)&&(e.tempClasses=e.tempClasses.split(/\s+/)),e):void 0}function C(e,t,n){n=n||{};var i={};u(n,function(e,t){u(t.split(" "),function(t){i[t]=e})});var r=Object.create(null);u((e.attr("class")||"").split(/\s+/),function(e){r[e]=!0});var a=[],o=[];return u(t&&t.classes||[],function(e,t){var n=r[t],s=i[t]||{};!1===e?(n||"addClass"==s.event)&&o.push(t):!0===e&&(n&&"removeClass"!=s.event||a.push(t))}),0<a.length+o.length&&[a.join(" "),o.join(" ")]}function D(e){if(e){var t=[],n={};e=e.substr(1).split("."),(g.transitions||g.animations)&&t.push(i.get(l[""]));for(var r=0;r<e.length;r++){var a=e[r],o=l[a];o&&!n[a]&&(t.push(i.get(o)),n[a]=!0)}return t}}function T(e,n,i,r){function a(e,t){var n=e[t],i=e["before"+t.charAt(0).toUpperCase()+t.substr(1)];return n||i?("leave"==t&&(i=n,n=null),k.push({event:t,fn:n}),y.push({event:t,fn:i}),!0):void 0}function o(t,n,a){var o=[];u(t,function(e){e.fn&&o.push(e)});var s=0;u(o,function(t,u){var d=function(){e:{if(n){if((n[u]||c)(),++s<o.length)break e;n=null}a()}};switch(t.event){case"setClass":n.push(t.fn(e,l,p,d,r));break;case"animate":n.push(t.fn(e,i,r.from,r.to,d));break;case"addClass":n.push(t.fn(e,l||i,d,r));break;case"removeClass":n.push(t.fn(e,p||i,d,r));break;default:n.push(t.fn(e,d,r))}}),n&&0===n.length&&a()}var s=e[0];if(s){r&&(r.to=r.to||{},r.from=r.from||{});var l,p;d(i)&&(l=i[0],p=i[1],l?p?i=l+" "+p:(i=l,n="addClass"):(i=p,n="removeClass"));var m="setClass"==n,f=m||"addClass"==n||"removeClass"==n||"animate"==n,g=e.attr("class")+" "+i;if(U(g)){var h=c,v=[],y=[],b=c,w=[],k=[],g=(" "+g).replace(/\s+/g,".");return u(D(g),function(e){!a(e,n)&&m&&(a(e,"addClass"),a(e,"removeClass"))}),{node:s,event:n,className:i,isClassBased:f,isSetClassOperation:m,applyStyles:function(){r&&e.css(t.extend(r.from||{},r.to||{}))},before:function(e){h=e,o(y,v,function(){h=c,e()})},after:function(e){b=e,o(k,w,function(){b=c,e()})},cancel:function(){v&&(u(v,function(e){(e||c)(!0)}),h(!0)),w&&(u(w,function(e){(e||c)(!0)}),b(!0))}}}}}function A(e,n,i,r,a,o,l,d){function p(t){var r="$animate:"+t;b&&b[r]&&0<b[r].length&&v(function(){i.triggerHandler(r,{event:e,className:n})})}function m(){p("before")}function f(){p("after")}function g(){g.hasBeenRun||(g.hasBeenRun=!0,o())}function h(){if(!h.hasBeenRun){y&&y.applyStyles(),h.hasBeenRun=!0,l&&l.tempClasses&&u(l.tempClasses,function(e){s.removeClass(i,e)});var t=i.data("$$ngAnimateState");t&&(y&&y.isClassBased?E(i,n):(v(function(){var t=i.data("$$ngAnimateState")||{};x==t.index&&E(i,n,e)}),i.data("$$ngAnimateState",t))),p("close"),d()}}var y=T(i,e,n,l);if(!y)return g(),m(),f(),h(),c;e=y.event,n=y.className;var b=t.element._data(y.node),b=b&&b.events;if(r||(r=a?a.parent():i.parent()),P(i,r))return g(),m(),f(),h(),c;r=i.data("$$ngAnimateState")||{};var w=r.active||{},k=r.totalActive||0,$=r.last;if(a=!1,k>0){if(k=[],y.isClassBased)"setClass"==$.event?(k.push($),E(i,n)):w[n]&&(_=w[n],_.event==e?a=!0:(k.push(_),E(i,n)));else if("leave"==e&&w["ng-leave"])a=!0;else{for(var _ in w)k.push(w[_]);r={},E(i,!0)}0<k.length&&u(k,function(e){e.cancel()})}if(!y.isClassBased||y.isSetClassOperation||"animate"==e||a||(a="addClass"==e==i.hasClass(n)),a)return g(),m(),f(),p("close"),d(),c;w=r.active||{},k=r.totalActive||0,"leave"==e&&i.one("$destroy",function(e){e=t.element(this);var n=e.data("$$ngAnimateState");n&&(n=n.active["ng-leave"])&&(n.cancel(),E(e,"ng-leave"))}),s.addClass(i,"ng-animate"),l&&l.tempClasses&&u(l.tempClasses,function(e){s.addClass(i,e)});var x=O++;return k++,w[n]=y,i.data("$$ngAnimateState",{last:y,active:w,index:x,totalActive:k}),m(),y.before(function(t){var r=i.data("$$ngAnimateState");t=t||!r||!r.active[n]||y.isClassBased&&r.active[n].event!=e,g(),!0===t?h():(f(),y.after(h))}),y.cancel}function S(e){(e=a(e))&&(e=t.isFunction(e.getElementsByClassName)?e.getElementsByClassName("ng-animate"):e.querySelectorAll(".ng-animate"),u(e,function(e){e=t.element(e),(e=e.data("$$ngAnimateState"))&&e.active&&u(e.active,function(e){e.cancel()})}))}function E(e,t){if(o(e,h))f.disabled||(f.running=!1,f.structural=!1);else if(t){var n=e.data("$$ngAnimateState")||{},i=!0===t;!i&&n.active&&n.active[t]&&(n.totalActive--,delete n.active[t]),(i||!n.totalActive)&&(s.removeClass(e,"ng-animate"),e.removeData("$$ngAnimateState"))}}function P(e,n){if(f.disabled)return!0;if(o(e,h))return f.running;var i,r,a;do{if(0===n.length)break;var s=o(n,h),c=s?f:n.data("$$ngAnimateState")||{};if(c.disabled)return!0;s&&(a=!0),!1!==i&&(s=n.data("$$ngAnimateChildren"),t.isDefined(s)&&(i=s)),r=r||c.running||c.last&&!c.last.isClassBased}while(n=n.parent());return!a||!i&&r}s=k,h.data("$$ngAnimateState",f);var I=y.$watch(function(){return w.totalPendingRequests},function(e,t){0===e&&(I(),y.$$postDigest(function(){y.$$postDigest(function(){f.running=!1})}))}),O=0,j=r.classNameFilter(),U=j?function(e){return j.test(e)}:function(){return!0};return{animate:function(e,n,i,r,o){return r=r||"ng-inline-animate",o=x(o)||{},o.from=i?n:null,o.to=i?i:n,_(function(n){return A("animate",r,t.element(a(e)),null,null,c,o,n)})},enter:function(n,i,r,o){return o=x(o),n=t.element(n),i=i&&t.element(i),r=r&&t.element(r),$(n,!0),e.enter(n,i,r),_(function(e){return A("enter","ng-enter",t.element(a(n)),i,r,c,o,e)})},leave:function(n,i){return i=x(i),n=t.element(n),S(n),$(n,!0),_(function(r){return A("leave","ng-leave",t.element(a(n)),null,null,function(){e.leave(n)},i,r)})},move:function(n,i,r,o){return o=x(o),n=t.element(n),i=i&&t.element(i),r=r&&t.element(r),S(n),$(n,!0),e.move(n,i,r),_(function(e){return A("move","ng-move",t.element(a(n)),i,r,c,o,e)})},addClass:function(e,t,n){return this.setClass(e,t,[],n)},removeClass:function(e,t,n){return this.setClass(e,[],t,n)},setClass:function(n,i,r,o){if(o=x(o),n=t.element(n),n=t.element(a(n)),$(n))return e.$$setClassImmediately(n,i,r,o);var s,c=n.data("$$animateClasses"),l=!!c;return c||(c={classes:{}}),s=c.classes,i=d(i)?i:i.split(" "),u(i,function(e){e&&e.length&&(s[e]=!0)}),r=d(r)?r:r.split(" "),u(r,function(e){e&&e.length&&(s[e]=!1)}),l?(o&&c.options&&(c.options=t.extend(c.options||{},o)),c.promise):(n.data("$$animateClasses",c={classes:s,options:o}),c.promise=_(function(t){var i=n.parent(),r=a(n),o=r.parentNode;if(o&&!o.$$NG_REMOVED&&!r.$$NG_REMOVED){r=n.data("$$animateClasses"),n.removeData("$$animateClasses");var o=n.data("$$ngAnimateState")||{},s=C(n,r,o.active);return s?A("setClass",s,n,i,null,function(){s[0]&&e.$$addClassImmediately(n,s[0]),s[1]&&e.$$removeClassImmediately(n,s[1])},r.options,t):t()}t()}))},cancel:function(e){e.$$cancelFn()},enabled:function(e,t){switch(arguments.length){case 2:if(e)E(t);else{var n=t.data("$$ngAnimateState")||{};n.disabled=!0,t.data("$$ngAnimateState",n)}break;case 1:f.disabled=!e;break;default:e=!f.disabled}return!!e}}}]),r.register("",["$window","$sniffer","$timeout","$$animateReflow",function(i,r,o,l){function m(){I||(I=l(function(){U=[],I=null,O={}}))}function f(e,t){I&&I(),U.push(t),I=l(function(){u(U,function(e){e()}),U=[],I=null,O={}})}function g(e,n){var i=a(e);e=t.element(i),R.push(e),i=Date.now()+n,F>=i||(o.cancel(M),F=i,M=o(function(){h(R),R=[]},n,!1))}function h(e){u(e,function(e){(e=e.data("$$ngAnimateCSS3Data"))&&u(e.closeAnimationFns,function(e){e()})})}function v(e,t){var n=t?O[t]:null;if(!n){var r=0,a=0,o=0,s=0;u(e,function(e){if(1==e.nodeType){e=i.getComputedStyle(e)||{},r=Math.max(y(e[T+"Duration"]),r),a=Math.max(y(e[T+"Delay"]),a),s=Math.max(y(e[S+"Delay"]),s);var t=y(e[S+"Duration"]);t>0&&(t*=parseInt(e[S+"IterationCount"],10)||1),o=Math.max(t,o)}}),n={total:0,transitionDelay:a,transitionDuration:r,animationDelay:s,animationDuration:o},t&&(O[t]=n)}return n}function y(e){var t=0;return e=p(e)?e.split(/\s*,\s*/):[],u(e,function(e){t=Math.max(parseFloat(e)||0,t)}),t}function b(e,t,n,i){e=0<=["ng-enter","ng-leave","ng-move"].indexOf(n);var r,o=t.parent(),c=o.data("$$ngAnimateKey");c||(o.data("$$ngAnimateKey",++j),c=j),r=c+"-"+a(t).getAttribute("class");var o=r+" "+n,c=O[o]?++O[o].total:0,u={};if(c>0){var l=n+"-stagger",u=r+" "+l;(r=!O[u])&&s.addClass(t,l),u=v(t,u),r&&s.removeClass(t,l)}s.addClass(t,n);var l=t.data("$$ngAnimateCSS3Data")||{},d=v(t,o);return r=d.transitionDuration,d=d.animationDuration,e&&0===r&&0===d?(s.removeClass(t,n),!1):(n=i||e&&r>0,e=d>0&&0<u.animationDelay&&0===u.animationDuration,t.data("$$ngAnimateCSS3Data",{stagger:u,cacheKey:o,running:l.running||0,itemIndex:c,blockTransition:n,closeAnimationFns:l.closeAnimationFns||[]}),o=a(t),n&&(k(o,!0),i&&t.css(i)),e&&(o.style[S+"PlayState"]="paused"),!0)}function w(e,t,n,i,r){function c(){t.off(I,l),s.removeClass(t,p),s.removeClass(t,m),D&&o.cancel(D),C(t,n);var e,i=a(t);for(e in f)i.style.removeProperty(f[e])}function l(e){e.stopPropagation();var t=e.originalEvent||e;e=t.$manualTimeStamp||t.timeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-T,0)>=x&&t>=_&&i()}var d=a(t);if(e=t.data("$$ngAnimateCSS3Data"),-1!=d.getAttribute("class").indexOf(n)&&e){var p="",m="";u(n.split(" "),function(e,t){var n=(t>0?" ":"")+e;p+=n+"-active",m+=n+"-pending"});var f=[],h=e.itemIndex,y=e.stagger,b=0;if(h>0){b=0,0<y.transitionDelay&&0===y.transitionDuration&&(b=y.transitionDelay*h);var w=0;0<y.animationDelay&&0===y.animationDuration&&(w=y.animationDelay*h,f.push(P+"animation-play-state")),b=Math.round(100*Math.max(b,w))/100}b||(s.addClass(t,p),e.blockTransition&&k(d,!1));var $=v(t,e.cacheKey+" "+p),_=Math.max($.transitionDuration,$.animationDuration);if(0!==_){!b&&r&&($.transitionDuration||(t.css("transition",$.animationDuration+"s linear all"),f.push("transition")),t.css(r));var h=Math.max($.transitionDelay,$.animationDelay),x=1e3*h;0<f.length&&(y=d.getAttribute("style")||"",";"!==y.charAt(y.length-1)&&(y+=";"),d.setAttribute("style",y+" "));var D,T=Date.now(),I=E+" "+A,h=1e3*(b+1.5*(h+_));return b>0&&(s.addClass(t,m),D=o(function(){D=null,0<$.transitionDuration&&k(d,!1),0<$.animationDuration&&(d.style[S+"PlayState"]=""),s.addClass(t,p),s.removeClass(t,m),r&&(0===$.transitionDuration&&t.css("transition",$.animationDuration+"s linear all"),t.css(r),f.push("transition"))},1e3*b,!1)),t.on(I,l),e.closeAnimationFns.push(function(){c(),i()}),e.running++,g(t,h),c}s.removeClass(t,p),C(t,n),i()}else i()}function k(e,t){e.style[T+"Property"]=t?"none":""}function $(e,t,n,i){return b(e,t,n,i)?function(e){e&&C(t,n)}:void 0}function _(e,t,n,i,r){return t.data("$$ngAnimateCSS3Data")?w(e,t,n,i,r):(C(t,n),void i())}function x(e,t,n,i,r){var a=$(e,t,n,r.from);if(a){var o=a;return f(t,function(){o=_(e,t,n,i,r.to)}),function(e){(o||c)(e)}}m(),i()}function C(e,t){s.removeClass(e,t);var n=e.data("$$ngAnimateCSS3Data");n&&(n.running&&n.running--,n.running&&0!==n.running||e.removeData("$$ngAnimateCSS3Data"))}function D(e,t){var n="";return e=d(e)?e:e.split(/\s+/),u(e,function(e,i){e&&0<e.length&&(n+=(i>0?" ":"")+e+t)}),n}var T,A,S,E,P="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(P="-webkit-",T="WebkitTransition",A="webkitTransitionEnd transitionend"):(T="transition",A="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(P="-webkit-",S="WebkitAnimation",E="webkitAnimationEnd animationend"):(S="animation",E="animationend");var I,O={},j=0,U=[],M=null,F=0,R=[];return{animate:function(e,t,n,i,r,a){return a=a||{},a.from=n,a.to=i,x("animate",e,t,r,a)},enter:function(e,t,n){return n=n||{},x("enter",e,"ng-enter",t,n)},leave:function(e,t,n){return n=n||{},x("leave",e,"ng-leave",t,n)},move:function(e,t,n){return n=n||{},x("move",e,"ng-move",t,n)},beforeSetClass:function(e,t,n,i,r){return r=r||{},t=D(n,"-remove")+" "+D(t,"-add"),(r=$("setClass",e,t,r.from))?(f(e,i),r):(m(),void i())},beforeAddClass:function(e,t,n,i){return i=i||{},(t=$("addClass",e,D(t,"-add"),i.from))?(f(e,n),t):(m(),void n())},beforeRemoveClass:function(e,t,n,i){return i=i||{},(t=$("removeClass",e,D(t,"-remove"),i.from))?(f(e,n),t):(m(),void n())},setClass:function(e,t,n,i,r){return r=r||{},n=D(n,"-remove"),t=D(t,"-add"),_("setClass",e,n+" "+t,i,r.to)},addClass:function(e,t,n,i){return i=i||{},_("addClass",e,D(t,"-add"),n,i.to)},removeClass:function(e,t,n,i){return i=i||{},_("removeClass",e,D(t,"-remove"),n,i.to)}}}])}])}(window,window.angular)}.apply(e,arguments)})}(this),function(e){define("angular-route",["angular"],function(){return function(){!function(e,t,n){"use strict";function i(e,n,i){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(r,a,o,s,c){function u(){m&&(i.cancel(m),m=null),d&&(d.$destroy(),d=null),p&&(m=i.leave(p),m.then(function(){m=null}),p=null)}function l(){var o=e.current&&e.current.locals;if(t.isDefined(o&&o.$template)){var o=r.$new(),s=e.current;p=c(o,function(e){i.enter(e,null,p||a).then(function(){!t.isDefined(f)||f&&!r.$eval(f)||n()}),u()}),d=s.scope=o,d.$emit("$viewContentLoaded"),d.$eval(g)}else u()}var d,p,m,f=o.autoscroll,g=o.onload||"";r.$on("$routeChangeSuccess",l),l()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(i,r){var a=n.current,o=a.locals;r.html(o.$template);var s=e(r.contents());a.controller&&(o.$scope=i,o=t(a.controller,o),a.controllerAs&&(i[a.controllerAs]=o),r.data("$ngControllerController",o),r.children().data("$ngControllerController",o)),s(i)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},r=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,i){return e="?"===i?i:null,i="*"===i?i:null,r.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(i&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}var i={};this.when=function(e,r){var a=t.copy(r);if(t.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),t.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),i[e]=t.extend(a,e&&n(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";i[o]=t.extend({redirectTo:e},n(o,a))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,r,o,s,c,u,l){function d(e){var i=y.current;(h=(g=m())&&i&&g.$$route===i.$$route&&t.equals(g.pathParams,i.pathParams)&&!g.reloadOnSearch&&!v)||!i&&!g||n.$broadcast("$routeChangeStart",g,i).defaultPrevented&&e&&e.preventDefault()}function p(){var e=y.current,i=g;h?(e.params=i.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(i||e)&&(v=!1,(y.current=i)&&i.redirectTo&&(t.isString(i.redirectTo)?r.path(f(i.redirectTo,i.params)).search(i.params).replace():r.url(i.redirectTo(i.pathParams,r.path(),r.search())).replace()),s.when(i).then(function(){if(i){var e,n,r=t.extend({},i.resolve);return t.forEach(r,function(e,n){r[n]=t.isString(e)?c.get(e):c.invoke(e,null,null,n)}),t.isDefined(e=i.template)?t.isFunction(e)&&(e=e(i.params)):t.isDefined(n=i.templateUrl)&&(t.isFunction(n)&&(n=n(i.params)),n=l.getTrustedResourceUrl(n),t.isDefined(n)&&(i.loadedTemplateUrl=n,e=u(n))),t.isDefined(e)&&(r.$template=e),s.all(r)}}).then(function(r){i==y.current&&(i&&(i.locals=r,t.copy(i.params,o)),n.$broadcast("$routeChangeSuccess",i,e))},function(t){i==y.current&&n.$broadcast("$routeChangeError",i,e,t)}))}function m(){var n,a;return t.forEach(i,function(i,o){var s;if(s=!a){var c=r.path();s=i.keys;var u={};if(i.regexp)if(c=i.regexp.exec(c)){for(var l=1,d=c.length;d>l;++l){var p=s[l-1],m=c[l];p&&m&&(u[p.name]=m)}s=u}else s=null;else s=null;s=n=s}s&&(a=e(i,{params:t.extend({},r.search(),n),pathParams:n}),a.$$route=i)}),a||i[null]&&e(i[null],{params:{},pathParams:{}})}function f(e,n){var i=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)i.push(e);else{var r=e.match(/(\w+)(?:[?*])?(.*)/),a=r[1];i.push(n[a]),i.push(r[2]||""),delete n[a]}}),i.join("")}var g,h,v=!1,y={routes:i,reload:function(){v=!0,n.$evalAsync(function(){d(),p()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw a("norout");var n={},i=this;t.forEach(Object.keys(e),function(t){i.current.pathParams[t]||(n[t]=e[t])}),e=t.extend({},this.current.params,e),r.path(f(this.current.$$route.originalPath,e)),r.search(t.extend({},r.search(),n))}};return n.$on("$locationChangeStart",d),n.$on("$locationChangeSuccess",p),y}]});var a=t.$$minErr("ngRoute");e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",i),e.directive("ngView",r),i.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular)}.apply(e,arguments)})}(this),function(){function e(e){var t=function(e,i){var a=r({},t,i||{});return n(e,a)};return r(t,{language:"en",delimiter:", ",spacer:" ",units:["year","month","week","day","hour","minute","second"],languages:{},halfUnit:!0},e)}function t(e,t){return u(e,t)}function n(e,t){if(e=Math.abs(e),0===e)return"0";var n=t.languages[t.language]||c[t.language];if(!n)throw new Error("No language "+n+".");for(var r,a,o,u,l=[],d=0,p=t.units.length;p>d;d++){if(r=t.units[d],"s"===r[r.length-1]&&(r=r.substring(0,r.length-1)),a=s[r],0===l.length&&t.halfUnit&&(u=e/a*2,u===Math.floor(u)))return i(u/2,r,n,t.spacer);o=d+1===p?e/a:Math.floor(e/a),o&&l.push(i(o,r,n,t.spacer)),e-=o*a}return l.join(t.delimiter)}function i(e,t,n,i){var r,a=n[t];return r="function"==typeof a?a(e):a,e+i+r}function r(e){for(var t,n=1;n<arguments.length;n++){t=arguments[n];for(var i in t)e[i]=t[i]}return e}function a(e){return 1===e?0:Math.floor(e)!==e?1:e%10>=2&&4>=e%10&&!(e%100>10&&20>e%100)?2:3}function o(e){return Math.floor(e)!==e?2:0===e||e>=5&&20>=e||e%10>=5&&9>=e%10||e%10===0?0:1===e||e%10===1?1:e>1?2:0}var s={year:315576e5,month:26298e5,week:6048e5,day:864e5,hour:36e5,minute:6e4,second:1e3,millisecond:1},c={ca:{year:function(e){return"any"+(1!==e?"s":"")},month:function(e){return"mes"+(1!==e?"os":"")},week:function(e){return"setman"+(1!==e?"es":"a")},day:function(e){return"di"+(1!==e?"es":"a")},hour:function(e){return"hor"+(1!==e?"es":"a")},minute:function(e){return"minut"+(1!==e?"s":"")},second:function(e){return"segon"+(1!==e?"s":"")},millisecond:function(e){return"milisegon"+(1!==e?"s":"")}},da:{year:"år",month:function(e){return"måned"+(1!==e?"er":"")},week:function(e){return"uge"+(1!==e?"r":"")},day:function(e){return"dag"+(1!==e?"e":"")},hour:function(e){return"time"+(1!==e?"r":"")},minute:function(e){return"minut"+(1!==e?"ter":"")},second:function(e){return"sekund"+(1!==e?"er":"")},millisecond:function(e){return"millisekund"+(1!==e?"er":"")}},de:{year:function(e){return"jahr"+(1!==e?"e":"")},month:function(e){return"monat"+(1!==e?"e":"")},week:function(e){return"woche"+(1!==e?"n":"")},day:function(e){return"tag"+(1!==e?"e":"")},hour:function(e){return"stunde"+(1!==e?"n":"")},minute:function(e){return"minute"+(1!==e?"n":"")},second:function(e){return"sekunde"+(1!==e?"n":"")},millisecond:function(e){return"millisekunde"+(1!==e?"n":"")}},en:{year:function(e){return"year"+(1!==e?"s":"")},month:function(e){return"month"+(1!==e?"s":"")},week:function(e){return"week"+(1!==e?"s":"")},day:function(e){return"day"+(1!==e?"s":"")},hour:function(e){return"hour"+(1!==e?"s":"")},minute:function(e){return"minute"+(1!==e?"s":"")},second:function(e){return"second"+(1!==e?"s":"")},millisecond:function(e){return"millisecond"+(1!==e?"s":"")}},nl:{year:"jaar",month:function(e){return 1===e?"maand":"maanden"},week:function(e){return 1===e?"week":"weken"},day:function(e){return 1===e?"dag":"dagen"},hour:"uur",minute:function(e){return 1===e?"minuut":"minuten"},second:function(e){return 1===e?"seconde":"seconden"},millisecond:function(e){return 1===e?"milliseconde":"milliseconden"}},es:{year:function(e){return"año"+(1!==e?"s":"")},month:function(e){return"mes"+(1!==e?"es":"")},week:function(e){return"semana"+(1!==e?"s":"")},day:function(e){return"día"+(1!==e?"s":"")},hour:function(e){return"hora"+(1!==e?"s":"")},minute:function(e){return"minuto"+(1!==e?"s":"")},second:function(e){return"segundo"+(1!==e?"s":"")},millisecond:function(e){return"milisegundo"+(1!==e?"s":"")}},fr:{year:function(e){return"an"+(1!==e?"s":"")},month:"mois",week:function(e){return"semaine"+(1!==e?"s":"")},day:function(e){return"jour"+(1!==e?"s":"")},hour:function(e){return"heure"+(1!==e?"s":"")},minute:function(e){return"minute"+(1!==e?"s":"")},second:function(e){return"seconde"+(1!==e?"s":"")},millisecond:function(e){return"milliseconde"+(1!==e?"s":"")}},ja:{year:"年",month:"月",week:"週",day:"日",hour:"時間",minute:"分",second:"秒",millisecond:"ミリ秒"},ko:{year:"년",month:"개월",week:"주일",day:"일",hour:"시간",minute:"분",second:"초",millisecond:"밀리 초"},nob:{year:"år",month:function(e){return"måned"+(1!==e?"er":"")},week:function(e){return"uke"+(1!==e?"r":"")},day:function(e){return"dag"+(1!==e?"er":"")},hour:function(e){return"time"+(1!==e?"r":"")},minute:function(e){return"minutt"+(1!==e?"er":"")},second:function(e){return"sekund"+(1!==e?"er":"")},millisecond:function(e){return"millisekund"+(1!==e?"er":"")}},pl:{year:function(e){return["rok","roku","lata","lat"][a(e)]},month:function(e){return["miesiąc","miesiąca","miesiące","miesięcy"][a(e)]},week:function(e){return["tydzień","tygodnia","tygodnie","tygodni"][a(e)]},day:function(e){return["dzień","dnia","dni","dni"][a(e)]},hour:function(e){return["godzina","godziny","godziny","godzin"][a(e)]},minute:function(e){return["minuta","minuty","minuty","minut"][a(e)]},second:function(e){return["sekunda","sekundy","sekundy","sekund"][a(e)]},millisecond:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][a(e)]}},pt:{year:function(e){return"ano"+(1!==e?"s":"")},month:function(e){return 1!==e?"meses":"mês"},week:function(e){return"semana"+(1!==e?"s":"")},day:function(e){return"dia"+(1!==e?"s":"")},hour:function(e){return"hora"+(1!==e?"s":"")},minute:function(e){return"minuto"+(1!==e?"s":"")},second:function(e){return"segundo"+(1!==e?"s":"")},millisecond:function(e){return"milissegundo"+(1!==e?"s":"")}},ru:{year:function(e){return["лет","год","года"][o(e)]},month:function(e){return["месяцев","месяц","месяца"][o(e)]},week:function(e){return["недель","неделя","недели"][o(e)]},day:function(e){return["дней","день","дня"][o(e)]},hour:function(e){return["часов","час","часа"][o(e)]},minute:function(e){return["минут","минута","минуты"][o(e)]},second:function(e){return["секунд","секунда","секунды"][o(e)]},millisecond:function(e){return["миллисекунд","миллисекунда","миллисекунды"][o(e)]}},sv:{year:"år",month:function(e){return"månad"+(1!==e?"er":"")},week:function(e){return"veck"+(1!==e?"or":"a")},day:function(e){return"dag"+(1!==e?"ar":"")},hour:function(e){return"timm"+(1!==e?"ar":"e")},minute:function(e){return"minut"+(1!==e?"er":"")},second:function(e){return"sekund"+(1!==e?"er":"")},millisecond:function(e){return"millisekund"+(1!==e?"er":"")}},tr:{year:"yıl",month:"ay",week:"hafta",day:"gün",hour:"saat",minute:"dakika",second:"saniye",millisecond:"milisaniye"},"zh-CN":{year:"年",month:"个月",week:"周",day:"天",hour:"小时",minute:"分钟",second:"秒",millisecond:"毫秒"},"zh-TW":{year:"年",month:"個月",week:"周",day:"天",hour:"小時",minute:"分鐘",second:"秒",millisecond:"毫秒"}},u=e({});t.humanizer=e,"undefined"!=typeof module?module.exports=t:this.humanizeDuration=t}(),define("humanize-duration",function(){}),function(e){define("angular-timer",["angular","moment","humanize-duration"],function(){return function(){var e=angular.module("timer");e.factory("I18nService",function(){var e=function(){};return e.prototype.language="en",e.prototype.timeHumanizer={},e.prototype.init=function(e){this.language=e,moment.locale(this.language),this.timeHumanizer=humanizeDuration.humanizer({language:this.language,halfUnit:!1})},e.prototype.getTimeUnits=function(e){var t=1e3*Math.round(e/1e3),n={};return"undefined"!=typeof this.timeHumanizer?n={millis:this.timeHumanizer(t,{units:["milliseconds"]}),seconds:this.timeHumanizer(t,{units:["seconds"]}),minutes:this.timeHumanizer(t,{units:["minutes","seconds"]}),hours:this.timeHumanizer(t,{units:["hours","minutes","seconds"]}),days:this.timeHumanizer(t,{units:["days","hours","minutes","seconds"]}),months:this.timeHumanizer(t,{units:["months","days","hours","minutes","seconds"]}),years:this.timeHumanizer(t,{units:["years","months","days","hours","minutes","seconds"]})}:console.error('i18nService has not been initialized. You must call i18nService.init("en") for example'),n},e});var t=angular.module("timer",[]).directive("timer",["$compile",function(e){return{restrict:"EA",replace:!1,scope:{interval:"=interval",startTimeAttr:"=startTime",endTimeAttr:"=endTime",countdownattr:"=countdown",finishCallback:"&finishCallback",autoStart:"&autoStart",language:"@?",maxTimeUnit:"="},controller:["$scope","$element","$attrs","$timeout","I18nService","$interpolate",function(t,n,i,r,a,o){function s(){t.timeoutId&&clearTimeout(t.timeoutId)}function c(){var e={};void 0!==i.startTime&&(t.millis=moment().diff(moment(t.startTimeAttr))),e=u.getTimeUnits(t.millis),t.maxTimeUnit&&"day"!==t.maxTimeUnit?"second"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3),t.minutes=0,t.hours=0,t.days=0,t.months=0,t.years=0):"minute"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4),t.hours=0,t.days=0,t.months=0,t.years=0):"hour"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5),t.days=0,t.months=0,t.years=0):"month"===t.maxTimeUnit?(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24%30),t.months=Math.floor(t.millis/36e5/24/30),t.years=0):"year"===t.maxTimeUnit&&(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24%30),t.months=Math.floor(t.millis/36e5/24/30%12),t.years=Math.floor(t.millis/36e5/24/365)):(t.seconds=Math.floor(t.millis/1e3%60),t.minutes=Math.floor(t.millis/6e4%60),t.hours=Math.floor(t.millis/36e5%24),t.days=Math.floor(t.millis/36e5/24),t.months=0,t.years=0),t.secondsS=1===t.seconds?"":"s",t.minutesS=1===t.minutes?"":"s",t.hoursS=1===t.hours?"":"s",t.daysS=1===t.days?"":"s",t.monthsS=1===t.months?"":"s",t.yearsS=1===t.years?"":"s",t.secondUnit=e.seconds,t.minuteUnit=e.minutes,t.hourUnit=e.hours,t.dayUnit=e.days,t.monthUnit=e.months,t.yearUnit=e.years,t.sseconds=t.seconds<10?"0"+t.seconds:t.seconds,t.mminutes=t.minutes<10?"0"+t.minutes:t.minutes,t.hhours=t.hours<10?"0"+t.hours:t.hours,t.ddays=t.days<10?"0"+t.days:t.days,t.mmonths=t.months<10?"0"+t.months:t.months,t.yyears=t.years<10?"0"+t.years:t.years}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.autoStart=i.autoStart||i.autostart,t.language=t.language||"en",t.$watch("language",function(){u.init(t.language)});var u=new a;u.init(t.language),n.append(0===n.html().trim().length?e("<span>"+o.startSymbol()+"millis"+o.endSymbol()+"</span>")(t):e(n.contents())(t)),t.startTime=null,t.endTime=null,t.timeoutId=null,t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>=0?parseInt(t.countdownattr,10):void 0,t.isRunning=!1,t.$on("timer-start",function(){t.start()}),t.$on("timer-resume",function(){t.resume()}),t.$on("timer-stop",function(){t.stop()}),t.$on("timer-clear",function(){t.clear()}),t.$on("timer-reset",function(){t.reset()}),t.$on("timer-set-countdown",function(e,n){t.countdown=n}),t.$watch("startTimeAttr",function(e,n){e!==n&&t.isRunning&&t.start()}),t.start=n[0].start=function(){t.startTime=t.startTimeAttr?moment(t.startTimeAttr):moment(),t.endTime=t.endTimeAttr?moment(t.endTimeAttr):null,t.countdown||(t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0),s(),l(),t.isRunning=!0},t.resume=n[0].resume=function(){s(),t.countdownattr&&(t.countdown+=1),t.startTime=moment().diff(moment(t.stoppedTime).diff(moment(t.startTime))),l(),t.isRunning=!0},t.stop=t.pause=n[0].stop=n[0].pause=function(){var e=t.timeoutId;t.clear(),t.$emit("timer-stopped",{timeoutId:e,millis:t.millis,seconds:t.seconds,minutes:t.minutes,hours:t.hours,days:t.days})},t.clear=n[0].clear=function(){t.stoppedTime=moment(),s(),t.timeoutId=null,t.isRunning=!1},t.reset=n[0].reset=function(){t.startTime=t.startTimeAttr?moment(t.startTimeAttr):moment(),t.endTime=t.endTimeAttr?moment(t.endTimeAttr):null,t.countdown=t.countdownattr&&parseInt(t.countdownattr,10)>0?parseInt(t.countdownattr,10):void 0,s(),l(),t.isRunning=!1,t.clear()},n.bind("$destroy",function(){s(),t.isRunning=!1}),t.countdownattr?(t.millis=1e3*t.countdownattr,t.addCDSeconds=n[0].addCDSeconds=function(e){t.countdown+=e,t.$digest(),t.isRunning||t.start()},t.$on("timer-add-cd-seconds",function(e,n){r(function(){t.addCDSeconds(n)})}),t.$on("timer-set-countdown-seconds",function(e,n){t.isRunning||t.clear(),t.countdown=n,t.millis=1e3*n,c()})):t.millis=0,c();var l=function d(){t.millis=moment().diff(t.startTime);var e=t.millis%1e3;return t.endTimeAttr&&(t.millis=moment(t.endTime).diff(moment()),e=t.interval-t.millis%1e3),t.countdownattr&&(t.millis=1e3*t.countdown),t.millis<0?(t.stop(),t.millis=0,c(),void(t.finishCallback&&t.$eval(t.finishCallback))):(c(),t.timeoutId=setTimeout(function(){d(),t.$digest()},t.interval-e),t.$emit("timer-tick",{timeoutId:t.timeoutId,millis:t.millis}),void(t.countdown>0?t.countdown--:t.countdown<=0&&(t.stop(),t.finishCallback&&t.$eval(t.finishCallback))))};(void 0===t.autoStart||t.autoStart===!0)&&t.start()}]}}]);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports=t)}.apply(e,arguments)})}(this),function(e){define("ui-bootstrap",["angular"],function(){return function(){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),
angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var r=function(i,a,o){o=o||{};var s=e.defer(),c=r[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(c,u),s.resolve(i)})};return c&&i.bind(c,u),t(function(){angular.isString(a)?i.addClass(a):angular.isFunction(a)?a(i):angular.isObject(a)&&i.css(a),c||s.resolve(i)}),s.promise.cancel=function(){c&&i.unbind(c,u),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=i(o),r.animationEndEventName=i(s),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,i){function r(t){function i(){u===r&&(u=void 0)}var r=e(n,t);return u&&u.cancel(),u=r,r.then(i,i),r}function a(){l?(l=!1,o()):(n.removeClass("collapse").addClass("collapsing"),r({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){l?(l=!1,c(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),r({height:0}).then(c))}function c(){n.removeClass("collapsing"),n.addClass("collapse")}var u,l=!0;t.$watch(i.collapse,function(e){e?s():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,r){e(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var r=i[0],a=i[1];a.$render=function(){t.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(i?null:e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function r(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var s=i[0],c=i[1];c.$render=function(){t.toggleClass(s.activeClass,angular.equals(c.$modelValue,r()))},t.bind(s.toggleEvent,function(){e.$apply(function(){c.$setViewValue(t.hasClass(s.activeClass)?a():r()),c.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,i){function r(){a();var t=+e.interval;!isNaN(t)&&t>0&&(s=n(o,t))}function a(){s&&(n.cancel(s),s=null)}function o(){var t=+e.interval;c&&!isNaN(t)&&t>0?e.next():e.pause()}var s,c,u=this,l=u.slides=e.slides=[],d=-1;u.currentSlide=null;var p=!1;u.select=e.select=function(n,a){function o(){p||(u.currentSlide&&angular.isString(a)&&!e.noTransition&&n.$element?(n.$element.addClass(a),n.$element[0].offsetWidth,angular.forEach(l,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:a,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:a,leaving:!0}),e.$currentTransition=i(n.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(n,u.currentSlide)):s(n,u.currentSlide),u.currentSlide=n,d=c,r())}function s(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var c=l.indexOf(n);void 0===a&&(a=c>d?"next":"prev"),n&&n!==u.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){p=!0}),u.indexOfSlide=function(e){return l.indexOf(e)},e.next=function(){var t=(d+1)%l.length;return e.$currentTransition?void 0:u.select(l[t],"next")},e.prev=function(){var t=0>d-1?l.length-1:d-1;return e.$currentTransition?void 0:u.select(l[t],"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",a),e.play=function(){c||(c=!0,r())},e.pause=function(){e.noPause||(c=!1,a())},u.addSlide=function(t,n){t.$element=n,l.push(t),1===l.length||t.active?(u.select(l[l.length-1]),1==l.length&&e.play()):t.active=!1},u.removeSlide=function(e){var t=l.indexOf(e);l.splice(t,1),l.length>0&&e.active?u.select(t>=l.length?l[t-1]:l[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(r,function(t,r){var a=e.indexOf(r);if(a>-1){e=e.split(""),i[a]="("+t.regex+")",e[a]="$";for(var o=a+1,s=a+r.length;s>o;o++)i[o]="",e[o]="$";e=e.join(""),n.push({index:a,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,r){if(!angular.isString(t)||!r)return t;r=e.DATETIME_FORMATS[r]||r,this.parsers[r]||(this.parsers[r]=n(r));var a=this.parsers[r],o=a.regex,s=a.map,c=t.match(o);if(c&&c.length){for(var u,l={year:1900,month:0,date:1,hours:0},d=1,p=c.length;p>d;d++){var m=s[d-1];m.apply&&m.apply.call(l,c[d])}return i(l.year,l.month,l.date)&&(u=new Date(l.year,l.month,l.date,l.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},a=r(t[0]);a!=e[0]&&(i=this.offset(angular.element(a)),i.top+=a.clientTop-a.scrollTop,i.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,a,o,s,c=n.split("-"),u=c[0],l=c[1]||"center";r=i?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-a/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-o/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":s={top:p[l](),left:d[u]()};break;case"left":s={top:p[l](),left:r.left-a};break;case"bottom":s={top:p[u](),left:d[l]()};break;default:s={top:r.top-o,left:d[l]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,r,a,o,s){var c=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,r){c[n]=angular.isDefined(t[n])?8>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){c[i]=e?new Date(e):null,c.refreshView()}):c[i]=s[i]?new Date(s[i]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===c.compare(t.date,c.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){u=e,u.$render=function(){c.render()}},this.render=function(){if(u.$modelValue){var e=new Date(u.$modelValue),t=!isNaN(e);t?this.activeDate=e:a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===c.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else c.activeDate=t,e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),n=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,n,1),c.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===c.maxMode&&1===t||e.datepickerMode===c.minMode&&-1===t||(e.datepickerMode=c.modes[c.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var l=function(){r(function(){c.element[0].focus()},0,!1)};e.$on("datepicker.focus",l),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(c.isDisabled(c.activeDate))return;e.select(c.activeDate),l()}else!t.ctrlKey||"up"!==n&&"down"!==n?(c.handleKeyDown(n,t),c.refreshView()):(e.toggleMode("up"===n?1:-1),l())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?c[t]:29}function o(e,t){var n=new Array(t),i=new Date(e),r=0;for(i.setHours(12);t>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var c=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),a=new Date(n,i,1),c=r.startingDay-a.getDay(),u=c>0?7-c:-c,l=new Date(a);u>0&&l.setDate(-u+1);for(var d=o(l,42),p=0;42>p;p++)d[p]=angular.extend(r.createDateObject(d[p],r.formatDay),{secondary:d[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var m=0;7>m;m++)t.labels[m]={abbr:e(d[m].date,r.formatDayHeader),full:e(d[m].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=s(t.rows[0][0].date),g=t.rows.length;t.weekNumbers.push(f++)<g;);}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e){var t=r.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(n,1),t=Math.min(a(r.activeDate.getFullYear(),r.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=a(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(t)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),a=0;12>a;a++)n[a]=angular.extend(r.createDateObject(new Date(i,a,1),r.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(n,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e){var t=r.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);r.activeDate.setMonth(t)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/a,10)*a+1}var a=i.yearRange;i.step={years:a},i.element=t,i._refreshView=function(){for(var t=new Array(a),n=0,o=r(i.activeDate.getFullYear());a>n;n++)t[n]=angular.extend(i.createDateObject(new Date(o+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[a-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e){var t=i.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*i.step.years:"home"===e?t=r(i.activeDate.getFullYear()):"end"===e&&(t=r(i.activeDate.getFullYear())+a-1),i.activeDate.setFullYear(t)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,r,a,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,c,u,l){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function p(e){if(e){if(angular.isDate(e)&&!isNaN(e))return l.$setValidity("date",!0),e;if(angular.isString(e)){var t=a.parse(e,m)||new Date(e);return isNaN(t)?void l.$setValidity("date",!1):(l.$setValidity("date",!0),t)}return void l.$setValidity("date",!1)}return l.$setValidity("date",!0),null}var m,f=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):o.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):o.showButtonBar,s.getText=function(e){return s[e+"Text"]||o[e+"Text"]},u.$observe("datepickerPopup",function(e){m=e||o.datepickerPopup,l.$render()});var h=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");h.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(h.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(e,t){v.attr(d(t),e)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(u[e]){var n=t(u[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),v.attr(d(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&i(s.$parent,e)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),l.$parsers.unshift(p),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),l.$setViewValue(s.date),l.$render(),f&&(s.isOpen=!1,c[0].focus())},c.bind("input change keyup",function(){s.$apply(function(){s.date=l.$modelValue})}),l.$render=function(){var e=l.$viewValue?r(l.$viewValue,m):"";c.val(e),s.date=p(l.$modelValue)};var y=function(e){s.isOpen&&e.target!==c[0]&&s.$apply(function(){s.isOpen=!1})},b=function(e){s.keydown(e)};c.bind("keydown",b),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=g?i.offset(c):i.position(c),s.position.top=s.position.top+c.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(l.$modelValue)?(e=new Date(l.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,c[0].focus()};var w=e(h)(s);h.remove(),g?n.find("body").append(w):c.after(w),s.$on("$destroy",function(){w.remove(),c.unbind("keydown",b),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(r){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==r&&(t.isOpen=!1),t=r},this.close=function(r){t===r&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},i=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,i,r,a){var o,s=this,c=e.$new(),u=i.openClass,l=angular.noop,d=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){s.$element=i,t.isOpen&&(o=n(t.isOpen),l=o.assign,e.$watch(o,function(e){c.isOpen=!!e}))},this.toggle=function(e){return c.isOpen=arguments.length?!!e:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return s.toggleElement},c.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},c.$watch("isOpen",function(t,n){a[t?"addClass":"removeClass"](s.$element,u),t?(c.focusToggleElement(),r.open(c)):r.close(c),l(e,t),angular.isDefined(t)&&t!==n&&d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){c.isOpen=!1}),e.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,i){t.backdropClass=i.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,t(function(){n.animate=!0,i[0].querySelectorAll("[autofocus]").length||i[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i,r,a){function o(){for(var e=-1,t=m.keys(),n=0;n<t.length;n++)m.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),i=m.get(e).value;m.remove(e),u(i.modalDomEl,i.modalScope,300,function(){i.modalScope.$destroy(),t.toggleClass(p,m.length()>0),c()})}function c(){if(l&&-1==o()){var e=d;u(l,d,150,function(){e.$destroy(),e=null}),l=void 0,d=void 0}}function u(n,i,r,a){function o(){o.done||(o.done=!0,n.remove(),a&&a())}i.animate=!1;var s=e.transitionEndEventName;if(s){var c=t(o,r);n.bind(s,function(){t.cancel(c),o(),i.$apply()})}else t(o)}var l,d,p="modal-open",m=a.createNew(),f={};return r.$watch(o,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=m.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){f.dismiss(t.key,"escape key press")})))}),f.open=function(e,t){m.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),s=o();if(s>=0&&!l){d=r.$new(!0),d.index=s;var c=angular.element("<div modal-backdrop></div>");c.attr("backdrop-class",t.backdropClass),l=i(c)(d),a.append(l)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:m.length()-1,animate:"animate"}).html(t.content);var f=i(u)(t.scope);m.top().value.modalDomEl=f,a.append(f),a.addClass(p)},f.close=function(e,t){var n=m.get(e);n&&(n.value.deferred.resolve(t),s(e))},f.dismiss=function(e,t){var n=m.get(e);n&&(n.value.deferred.reject(t),s(e))},f.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},f.getTop=function(){return m.top()},f}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,r,a,o,s){function c(e){return e.template?i.when(e.template):r.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:a}).then(function(e){return e.data})}function u(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var l={};return l.open=function(t){var r=i.defer(),a=i.defer(),l={result:r.promise,opened:a.promise,close:function(e){s.close(l,e)},dismiss:function(e){s.dismiss(l,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=i.all([c(t)].concat(u(t.resolve)));return d.then(function(e){var i=(t.scope||n).$new();i.$close=l.close,i.$dismiss=l.dismiss;var a,c={},u=1;t.controller&&(c.$scope=i,c.$modalInstance=l,angular.forEach(t.resolve,function(t,n){c[n]=e[u++]}),a=o(t.controller,c),t.controllerAs&&(i[t.controllerAs]=a)),s.open(l,{scope:i,deferred:r,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),l},l}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,o){r=a,this.config=o,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,r=t,a=angular.isDefined(l)&&t>l;a&&(d?(i=Math.max(e-Math.floor(l/2),1),r=i+l-1,r>t&&(r=t,i=r-l+1)):(i=(Math.ceil(e/l)-1)*l+1,r=Math.min(i+l-1,t)));for(var s=i;r>=s;s++){var c=o(s,s,s===e);n.push(c)}if(a&&!d){if(i>1){var u=o(i-1,"...",!1);n.unshift(u)}if(t>r){var p=o(r+1,"...",!1);n.push(p)}}return n}var c=a[0],u=a[1];if(u){var l=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,c.init(u,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){l=parseInt(e,10),c.render()});var p=c.render;c.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){var a=r[0],o=r[1];o&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,a,o,s,c,u){return function(r,l,d){function p(e){var t=e||m.trigger||d,i=n[t]||t;return{show:t,hide:i}}var m=angular.extend({},t,i),f=e(r),g=u.startSymbol(),h=u.endSymbol(),v="<div "+f+'-popup title="'+g+"title"+h+'" content="'+g+"content"+h+'" placement="'+g+"placement"+h+'" animation="animation" is-open="isOpen"></div>';
return{restrict:"EA",compile:function(){var e=a(v);return function(t,n,i){function a(){S.isOpen?d():u()}function u(){(!A||t.$eval(i[l+"Enable"]))&&(y(),S.popupDelay?C||(C=o(f,S.popupDelay,!1),C.then(function(e){e()})):f()())}function d(){t.$apply(function(){g()})}function f(){return C=null,x&&(o.cancel(x),x=null),S.content?(h(),$.css({top:0,left:0,display:"block"}),D?s.find("body").append($):n.after($),E(),S.isOpen=!0,S.$digest(),E):angular.noop}function g(){S.isOpen=!1,o.cancel(C),C=null,S.animation?x||(x=o(v,500)):v()}function h(){$&&v(),_=S.$new(),$=e(_,angular.noop)}function v(){x=null,$&&($.remove(),$=null),_&&(_.$destroy(),_=null)}function y(){b(),w()}function b(){var e=i[l+"Placement"];S.placement=angular.isDefined(e)?e:m.placement}function w(){var e=i[l+"PopupDelay"],t=parseInt(e,10);S.popupDelay=isNaN(t)?m.popupDelay:t}function k(){var e=i[l+"Trigger"];P(),T=p(e),T.show===T.hide?n.bind(T.show,a):(n.bind(T.show,u),n.bind(T.hide,d))}var $,_,x,C,D=angular.isDefined(m.appendToBody)?m.appendToBody:!1,T=p(void 0),A=angular.isDefined(i[l+"Enable"]),S=t.$new(!0),E=function(){var e=c.positionElements(n,$,S.placement,D);e.top+="px",e.left+="px",$.css(e)};S.isOpen=!1,i.$observe(r,function(e){S.content=e,!e&&S.isOpen&&g()}),i.$observe(l+"Title",function(e){S.title=e});var P=function(){n.unbind(T.show,u),n.unbind(T.hide,d)};k();var I=t.$eval(i[l+"Animation"]);S.animation=angular.isDefined(I)?!!I:m.animation;var O=t.$eval(i[l+"AppendToBody"]);D=angular.isDefined(O)?O:D,D&&t.$on("$locationChangeSuccess",function(){S.isOpen&&g()}),t.$on("$destroy",function(){o.cancel(x),o.cancel(C),P(),v(),S=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var a=r==n.length-1?r-1:r+1;t.select(n[a])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,r,a){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,r.disabled&&t.$parent.$watch(e(r.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,a){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function u(e){l(),f.$setViewValue(new Date(m)),d(e)}function l(){f.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=m.getHours(),i=m.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n),e.minutes="m"===t?i:c(i),e.meridian=m.getHours()<12?g[0]:g[1]}function p(e){var t=new Date(m.getTime()+6e4*e);m.setHours(t.getHours(),t.getMinutes()),u()}var m=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render;var r=i.eq(0),o=i.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(r,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o)};var h=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){h=parseInt(e,10)});var v=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,f.$error.time){var n=o(),i=s();angular.isDefined(n)&&angular.isDefined(i)&&(m.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(m.setHours(e),u("h")):i(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(m.setMinutes(e),u("m")):i(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})})},this.render=function(){var e=f.$modelValue?new Date(f.$modelValue):null;isNaN(e)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(m=e),l(),d())},e.incrementHours=function(){p(60*h)},e.decrementHours=function(){p(60*-h)},e.incrementMinutes=function(){p(v)},e.decrementMinutes=function(){p(-v)},e.toggleMeridian=function(){p(720*(m.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,r,a,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(c,u,l,d){var p,m=c.$eval(l.typeaheadMinLength)||1,f=c.$eval(l.typeaheadWaitMs)||0,g=c.$eval(l.typeaheadEditable)!==!1,h=t(l.typeaheadLoading).assign||angular.noop,v=t(l.typeaheadOnSelect),y=l.typeaheadInputFormatter?t(l.typeaheadInputFormatter):void 0,b=l.typeaheadAppendToBody?c.$eval(l.typeaheadAppendToBody):!1,w=c.$eval(l.typeaheadFocusFirst)!==!1,k=t(l.ngModel).assign,$=o.parse(l.typeahead),_=c.$new();c.$on("$destroy",function(){_.$destroy()});var x="typeahead-"+_.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var C=angular.element("<div typeahead-popup></div>");C.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(l.typeaheadTemplateUrl)&&C.attr("template-url",l.typeaheadTemplateUrl);var D=function(){_.matches=[],_.activeIdx=-1,u.attr("aria-expanded",!1)},T=function(e){return x+"-option-"+e};_.$watch("activeIdx",function(e){0>e?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",T(e))});var A=function(e){var t={$viewValue:e};h(c,!0),n.when($.source(c,t)).then(function(n){var i=e===d.$viewValue;if(i&&p)if(n.length>0){_.activeIdx=w?0:-1,_.matches.length=0;for(var r=0;r<n.length;r++)t[$.itemName]=n[r],_.matches.push({id:T(r),label:$.viewMapper(_,t),model:n[r]});_.query=e,_.position=b?a.offset(u):a.position(u),_.position.top=_.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else D();i&&h(c,!1)},function(){D(),h(c,!1)})};D(),_.query=void 0;var S,E=function(e){S=i(function(){A(e)},f)},P=function(){S&&i.cancel(S)};d.$parsers.unshift(function(e){return p=!0,e&&e.length>=m?f>0?(P(),E(e)):A(e):(h(c,!1),P(),D()),g?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,i={};return y?(i.$model=e,y(c,i)):(i[$.itemName]=e,t=$.viewMapper(c,i),i[$.itemName]=void 0,n=$.viewMapper(c,i),t!==n?t:e)}),_.select=function(e){var t,n,r={};r[$.itemName]=n=_.matches[e].model,t=$.modelMapper(c,r),k(c,t),d.$setValidity("editable",!0),v(c,{$item:n,$model:t,$label:$.viewMapper(c,r)}),D(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==_.matches.length&&-1!==s.indexOf(e.which)&&(-1!=_.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(_.activeIdx=(_.activeIdx+1)%_.matches.length,_.$digest()):38===e.which?(_.activeIdx=(_.activeIdx>0?_.activeIdx:_.matches.length)-1,_.$digest()):13===e.which||9===e.which?_.$apply(function(){_.select(_.activeIdx)}):27===e.which&&(e.stopPropagation(),D(),_.$digest()))}),u.bind("blur",function(){p=!1});var I=function(e){u[0]!==e.target&&(D(),_.$digest())};r.bind("click",I),c.$on("$destroy",function(){r.unbind("click",I),b&&O.remove()});var O=e(C)(_);b?r.find("body").append(O):u.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,a,o){var s=i(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){a.replaceWith(n(e.trim())(r))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])}.apply(e,arguments)})}(this),function(e){define("angular-sanitize",["angular"],function(){return function(){!function(e,t,n){"use strict";function i(e){var n=[];return c(n,t.noop).chars(e),n.join("")}function r(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function a(e,n){function i(e,i,a,s){if(i=t.lowercase(i),$[i])for(;y.last()&&_[y.last()];)r("",y.last());k[i]&&y.last()==i&&r("",i),(s=w[i]||!!s)||y.push(i);var c={};a.replace(p,function(e,t,n,i,r){c[t]=o(n||i||r||"")}),n.start&&n.start(i,c,s)}function r(e,i){var r,a=0;if(i=t.lowercase(i))for(a=y.length-1;a>=0&&y[a]!=i;a--);
if(a>=0){for(r=y.length-1;r>=a;r--)n.end&&n.end(y[r]);y.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,s,c,y=[],b=e;for(y.last=function(){return y[y.length-1]};e;){if(c="",s=!0,y.last()&&x[y.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(v,"$1"),n.chars&&n.chars(o(t)),""}),r("",y.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),s=!1)):h.test(e)?(a=e.match(h))&&(e=e.replace(a[0],""),s=!1):f.test(e)?(a=e.match(d))&&(e=e.substring(a[0].length),a[0].replace(d,r),s=!1):m.test(e)&&((a=e.match(l))?(a[4]&&(e=e.substring(a[0].length),a[0].replace(l,i)),s=!1):(c+="<",e=e.substring(1))),s&&(a=e.indexOf("<"),c+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(o(c)))),e==b)throw u("badparse",e);b=e}r()}function o(e){if(!e)return"";var t=S.exec(e);e=t[1];var n=t[3];return(t=t[2])&&(A.innerHTML=t.replace(/</g,"&lt;"),t="textContent"in A?A.textContent:A.innerText),e+t+n}function s(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!i&&x[e]&&(i=e),i||!0!==C[e]||(r("<"),r(e),t.forEach(a,function(i,a){var o=t.lowercase(a),c="img"===e&&"src"===o||"background"===o;!0!==T[o]||!0===D[o]&&!n(i,c)||(r(" "),r(a),r('="'),r(s(i)),r('"'))}),r(o?"/>":">"))},end:function(e){e=t.lowercase(e),i||!0!==C[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(s(e))}}}var u=t.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,f=/^<\//,g=/\x3c!--(.*?)--\x3e/g,h=/<!DOCTYPE([^>]*?)>/i,v=/<!\[CDATA\[(.*?)]]\x3e/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,w=r("area,br,col,hr,img,wbr");e=r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=r("rp,rt");var k=t.extend({},n,e),$=t.extend({},e,r("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),_=t.extend({},n,r("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));e=r("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var x=r("script,style"),C=t.extend({},w,$,_,k,e),D=r("background,cite,href,longdesc,src,usemap,xlink:href");e=r("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),n=r("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var T=t.extend({},D,n,e),A=document.createElement("pre"),S=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return a(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,r=/^mailto:/;return function(a,o){function s(e){e&&m.push(i(e))}function c(e,n){m.push("<a "),t.isDefined(o)&&m.push('target="',o,'" '),m.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),m.push("</a>")}if(!a)return a;for(var u,l,d,p=a,m=[];u=p.match(n);)l=u[0],u[2]||u[4]||(l=(u[3]?"http://":"mailto:")+l),d=u.index,s(p.substr(0,d)),c(l,u[0].replace(r,"")),p=p.substring(d+u[0].length);return s(p),e(m.join(""))}}])}(window,window.angular)}.apply(e,arguments)})}(this),define("ud-core",["angular","angular-sanitize","ud-config","ud-translate","ud-template"],function(e,t,n){"use strict";function i(e){n&&"PROD"===n.env&&e.debugInfoEnabled(!1)}var r=e.module("ud.core",["ngSanitize","udTemplate","udTranslate"]).constant("NG_ROOT_URL","/staticx/udemy/js/ng/").constant("NG_APPS_URL","/staticx/udemy/js/ng/apps/").config(i);return i.$inject=["$compileProvider"],r}),define("ud.api",["jquery","ud-config","jquery.cookie"],function(e,t){"use strict";return UD.API={version:"api-1.1",getHeaders:function(){var t={};return t["X-Udemy-Snail-Case"]=!0,e.cookie("client_id")&&(t["X-Udemy-Client-Id"]=e.cookie("client_id")),e.cookie("access_token")?t["X-Udemy-Bearer-Token"]=e.cookie("access_token"):e.cookie("client_secret")&&(t["X-Udemy-Client-Secret"]=e.cookie("client_secret")),t},call:function(n,i){return e.ajax(e.extend(!0,{url:t.url.to_root+this.version+n,headers:this.getHeaders(),dataType:"json"},i))},regularCall:function(n,i){return e.ajax(e.extend({url:t.url.to_root+n},i))}},UD.API}),define("ud.api.v2",["jquery","ud-config","jquery.cookie"],function(e,t){"use strict";return UD.API_V2={version:"api-2.0",calledUrls:{},getHeaders:function(){var t={};return e.cookie("access_token")&&(t.Authorization="Bearer "+e.cookie("access_token"),t["X-Udemy-Authorization"]=t.Authorization),t},isCalledBefore:function(e){return e in this.calledUrls},call:function(n,i){return this.calledUrls[n]=!0,e.ajax(e.extend({url:t.url.to_root+this.version+n,headers:this.getHeaders(),dataType:"json"},i))}},UD.API_V2}),define("course-taking-dashboard.app/../../config/http-interceptors",["jquery","ud.api","ud.api.v2"],function(e){"use strict";return["$httpProvider",function(t){var n=function(t){return void 0===t?t:e.param(t)};t.interceptors.push(function(){return{request:function(e){return e.url.search("/api-1.1/")>=0?(angular.extend(e.headers,UD.API.getHeaders()),e.headers["X-Udemy-Snail-Case"]=!1,e.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"):e.url.search("/api-2.0/")>=0&&angular.extend(e.headers,UD.API_V2.getHeaders()),e.headers["Content-Type"]&&e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(e.transformRequest=n),e}}})}]}),angular.module("services").factory("Activity",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.defaultParams={"fields[user]":"url,image_50x50,title,job_title","fields[course]":"id","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@default,user,lecture,num_replies","fields[activity_comment]":"@default,-action","fields[lecture]":"@min,object_index,url"},t.getAll=function(t,n){var i={};return n&&n.length&&(i.id_in=n.join(",")),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,i)})},t.get=function(t,n){var i={};return e({url:"/api-2.0/courses/"+t+"/activities/"+n,method:"GET",params:angular.extend({},this.defaultParams,i)})},t.getAnnouncements=function(t,n,i){var r={action_object_object_type:"course_announcement"};return n&&(r.timestamp__lt=n),i&&(r.timestamp__gt=i),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.disableWelcomeMessageForCourse=function(t){return e({url:"/api-2.0/users/me/settings/",method:"POST",data:{setting:"welcomeMessageVisible",course:t,value:"off"}})},t.getDiscussions=function(t,n,i){var r={action_object_object_type:"course_discussion"};return n&&(r.timestamp__lt=n),i&&(r.timestamp__gt=i),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.getLectureDiscussions=function(t,n,i){var r={action_object_object_type:"course_discussion"};return t&&(r.timestamp__lt=t),n&&(r.timestamp__gt=n),e({url:"/api-2.0/lectures/"+i+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.deleteActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id,method:"DELETE"})},t.createComment=function(t,n,i){return e({url:"/api-2.0/courses/"+t+"/activities/"+n+"/comments",method:"POST",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:i}})},t.updateComment=function(t,n,i,r){return e({url:"/api-2.0/courses/"+t+"/activities/"+n+"/comments/"+i,method:"PUT",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:r}})},t.deleteComment=function(t,n,i){return e({url:"/api-2.0/courses/"+t+"/activities/"+n+"/comments/"+i,method:"DELETE"})},t.likeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers",method:"POST"})},t.unlikeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers/"+UD.me.id,method:"DELETE"})},t.followActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers",method:"POST"})},t.unfollowActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers/"+UD.me.id,method:"DELETE"})},t}]),define("course-taking-dashboard.app/../../services/Activity",function(){}),angular.module("services").factory("Announcement",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.update=function(t,n){return e({url:"/api-2.0/announcements/"+t,method:"PATCH",data:n})},t}]),define("course-taking-dashboard.app/../../services/Announcement",function(){}),angular.module("services").factory("Discussion",["$http","Utils",function(e,t){"use strict";var n=function(e){angular.extend(this,e)};return n.createDiscussion=function(t,n,i,r,a,o){return e({url:"/api-2.0/courses/"+t+"/discussions/",method:"POST",data:{lecture:n,position:Math.floor(i),body:r,title:a,ignore_warnings:"boolean"==typeof o&&o?1:0}})},n.update=function(n,i,r,a){return r.ignore_warnings=t.convertBoolToInt(a),e({url:"/api-2.0/courses/"+i+"/discussions/"+n,method:"PATCH",data:r})},n.deleteDiscussionReply=function(t,n,i){return e({url:"/api-2.0/courses/"+i+"/discussions/"+t+"/replies/"+n,method:"DELETE"})},n.addDiscussionReply=function(n,i,r,a){return e({url:"/api-2.0/courses/"+i+"/discussions/"+n+"/replies",method:"POST",data:{body:r,ignore_warnings:t.convertBoolToInt(a)},params:{"fields[course_discussion_reply]":"@default,user,course_discussion","fields[user]":"@min,image_50x50,url"}})},n.updateDiscussionReply=function(n,i,r,a,o){return e({url:"/api-2.0/courses/"+r+"/discussions/"+n+"/replies/"+i,method:"PUT",data:{body:a,ignore_warnings:t.convertBoolToInt(o)},params:{"fields[course_discussion_reply]":"@default,user,course_discussion","fields[user]":"@min,image_50x50,url"}})},n.getDiscussionReplies=function(t,n,i,r){return e({url:"/api-2.0/courses/"+n+"/discussions/"+t+"/replies/",method:"GET",params:{p:i,page_size:r,"fields[course_discussion_reply]":"@default,user,course_discussion","fields[user]":"@min,image_50x50,url",ordering:"created"}})},n}]),define("course-taking-dashboard.app/../../services/Discussion",function(){}),angular.module("services").factory("User",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};t.getMe=function(){return UD.me},t.getAllowedAnnouncementsCount=function(t){return e.get("/api-2.0/courses/"+t+"/allowed-announcements/")};var n={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio,features","fields[user]":"@min,job_title"};return t.getTakingCourses=function(t,i,r){var a={page:t,page_size:i};return angular.extend(a,n),r&&(a.search=r),e.get("/api-2.0/users/me/subscribed-courses",{params:a})},t.getWishlistedCourses=function(t,n,i,r){var a="@default,avg_rating,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription,promotion_price",o={page:t,page_size:n,include_spam:"true","fields[course]":a,"fields[user]":"@min"};return angular.extend(o,i),r&&(o.search=r),e.get("/api-2.0/users/me/wishlisted-courses",{params:o})},t.getArchivedCourses=function(t,i){var r={page:t,page_size:i};return angular.extend(r,n),e.get("/api-2.0/users/me/archived-courses",{params:r})},t.getFavoritedCourses=function(t,i){var r={page:t,page_size:i};return angular.extend(r,n),e.get("/api-2.0/users/me/favorited-courses",{params:r})},t.getSubscribedCoursesByProgress=function(t,i,r,a){var o={page:t,page_size:i,min_progress:r,max_progress:a};return angular.extend(o,n),e.get("/api-2.0/users/me/subscribed-courses",{params:o})},t.favoriteCourse=function(t){return e.post("/api-2.0/users/me/favorited-courses",{course_id:t},{params:n})},t.unfavoriteCourse=function(t){return e["delete"]("/api-2.0/users/me/favorited-courses/"+t)},t.archiveCourse=function(t){return e.post("/api-2.0/users/me/archived-courses",{course_id:t},{params:n})},t.unarchiveCourse=function(t){return e["delete"]("/api-2.0/users/me/archived-courses/"+t)},t.removeCourseFromWishlist=function(t){return e["delete"]("/api-2.0/users/me/wishlisted-courses/"+t)},t.addCourseToWishlist=function(t){return e.post("/api-2.0/users/me/wishlisted-courses/",{course_id:t})},t.is_anonymous=function(){var e=t.getMe();return"undefined"!=typeof e&&"undefined"==typeof e.id},t}]),define("course-taking-dashboard.app/../../services/User",function(){}),angular.module("services").factory("Scroll",function(){"use strict";var e=function(e){angular.extend(this,e)};return e.setLoadMoreFunction=function(t){e.loadMoreFunction=t},e.loadMore=function(){e.loadMoreFunction&&e.loadMoreFunction()},e}),define("course-taking-dashboard.app/../../services/Scroll",function(){}),define("course-taking-dashboard.app/../../services/Utils",["angular"],function(e){"use strict";e.module("services",[]).factory("Utils",["$timeout","$q",function(t,n){var i=function(t){e.extend(this,t)};return i.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},i.removeItemFromArray=function(e,t){var n=t.indexOf(e);return 0>=n?(t.splice(n,1),!0):!1},i.convertBoolToInt=function(e){return"boolean"==typeof e?e?1:0:void 0},i.convertParamToBool=function(e){return"true"===e||e>0},i.htmlTagsHasContent=function(e){return!!i.trimTags(e)},i.joinObjWithEnclosedTag=function(t,n){var i,r,a,o="";for(r in t)if(t.hasOwnProperty(r))for(a=t[r],e.isArray(a)||(a=[a]),i=0;i<a.length;i++)o+="<"+n+">"+t[r]+"</"+n+">";return o},i.debounce=function(e,i,r){var a,o=n.defer();return function(){var s=this,c=arguments,u=function(){a=null,r||(o.resolve(e.apply(s,c)),o=n.defer())},l=r&&!a;return a&&t.cancel(a),a=t(u,i),l&&(o.resolve(e.apply(s,c)),o=n.defer()),o.promise}},i}])}),define("course-taking-dashboard.app/../../services",["./services/Activity","./services/Announcement","./services/Discussion","./services/User","./services/Scroll","./services/Utils"],function(){}),define("course-taking-dashboard.app/../../filters/jsonutils",["angular"],function(e){"use strict";e.module("filters",[]).filter("prettyJSON",function(){return function(e){var t,n=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"string"==n?t=JSON.parse(e):"object"==n&&(t=e),JSON.stringify(t,null,4)}})}),define("course-taking-dashboard.app/../../filters/htmlutils",["angular","jquery","../services/Utils"],function(e,t){"use strict";e.module("filters",[]).filter("textToHtml",function(){return function(e){if(!e)return e;e=t("<i/>").text(e).html().replace(/\n/g,"<br/>");for(var n,i=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/gi,r=[],a=[];n=i.exec(e);)r.push(n.index),a.push(n[0]);if(0===r.length)return e;for(var o,s=e.substring(0,r[0]),c=0;c<r.length;c++)o=c+1<r.length?e.substring(r[c],r[c+1]):e.substring(r[c]),s+=o.replace(a[c],'<a href="'+a[c]+'" target="_blank" rel="nofollow noreferrer" >'+a[c]+"</a>");return s}}).filter("isStrippedHTMLEmpty",["Utils",function(e){return function(t){return!e.trimTags(t)}}]).filter("thousandsToK",function(){return function(e){return e>=1e3?(e=Math.round(e/100)/10,e.toString().replace(".0","")+"K"):e.toString()}}).filter("mysqlDate",["$filter",function(e){return function(t,n){var i=t.split(/[- :]/),r=new Date(i[0],i[1]-1,i[2],i[3]||0,i[4]||0,i[5]||0);return e("date")(r,n)}}]).filter("firstNameRestInitials",function(){return function(e){var t=e.split(" ");return t[0]+" "+t.slice(1).join(" ").replace(/(\S)\S*\s*/gi,"$1.")}})}),define("course-taking-dashboard.app/../../filters/moment",["angular","moment-timezone"],function(e,t){"use strict";return t.locale(UD.me.locale),e.module("filters",[]).filter("fromNow",function(){return function(e){return e?t.tz(e,"America/Los_Angeles").subtract("seconds",3).fromNow():t().fromNow()}}).filter("humanize",function(){return function(e){var n=t.duration({seconds:e}),i=n.hours(),r=n.minutes(),a=n.seconds();return(i?i+":":"")+(i&&10>r?"0"+r:r)+":"+(10>a?"0"+a:a)}})}),define("course-taking-dashboard.app/../../filters/fixurl",["angular","jsuri"],function(e,t){"use strict";e.module("filters",[]).filter("fixurl",function(){return function(e){var n=window.location.pathname,i=new t(e),r=i.path(),a=i.anchor();"/"===r.slice(-1)&&"/"!==n.slice(-1)&&i.setPath(r.substr(0,r.length-1)),"/"!==a.substr(0,1)&&a&&i.setAnchor("/"+a);var o=new t(window.location),s=o.query().toString();return s&&i.setQuery(s),i.toString()}})}),define("course-taking-dashboard.app/../../filters/ceil",["angular"],function(e){"use strict";e.module("filters",[]).filter("ceil",[function(){return function(e){return Math.ceil(e)}}])}),define("course-taking-dashboard.app/../../filters/currency",["angular"],function(e){"use strict";e.module("filters",[]).filter("noFractionCurrency",["$filter","$locale",function(e,t){var n=e("currency"),i=t.NUMBER_FORMATS;return function(e,t){var r=n(e,t);return r.replace(new RegExp("\\"+i.DECIMAL_SEP+"\\d{2}"),"")}}])}),define("course-taking-dashboard.app/../../filters/asseturls",["angular","ud-link"],function(e,t){"use strict";e.module("filters.assetUrls",[]).filter("imageUrl",function(){return function(e){return t.toImages(e)}})}),define("course-taking-dashboard.app/../../filters",["./filters/jsonutils","./filters/htmlutils","./filters/moment","./filters/fixurl","./filters/ceil","./filters/currency","./filters/asseturls"],function(){}),define("course-taking-dashboard.app/../../directives/common/utils",["angular","jquery"],function(e,t){"use strict";e.module("directives").directive("preventClick",function(){return function(e,n){t(n).click(function(e){e.preventDefault()})}}).directive("stopPropagation",function(){return function(e,n,i){var r=e.$eval(i.stopCondition);r&&t(n).on(i.stopPropagation,function(e){e.stopPropagation()})}}).directive("initPopup",function(){return function(e,n){var i=["ud.popup"];require(i,function(){t(n).ud_popup()})}}).directive("initializeUdWidget",function(){return function(e,n,i){var r=i.moduleId,a=i.fname;require([r],function(){t(n)[a]()})}}).directive("initializeBootstrapTooltip",function(){return function(e,n){require(["bootstrap"],function(){t('[data-toggle="tooltip"]').tooltip()})}}).directive("initializeUdPopupOnEvent",function(){return function(e,n,i){var r=i.initializeUdPopupOnEvent;e.$on(r,function(){var e=["ud.popup"];require(e,function(){t(n).ud_popup()})})}}).directive("initializeUdPopupOnValueChange",function(){return function(e,n,i){var r=i.initializeUdPopupOnValueChange;e.$watch(r,function(e){if(e){var i=["ud.popup"];require(i,function(){t(n).ud_popup()})}})}}).directive("textAreaExpand",function(){return function(e,t,n){require(["autosize"],function(e){e(t)})}}).directive("focusOn",["$timeout",function(e){return function(n,i,r){n.$watch(r.focusOn,function(a){a===!0&&e(function(){var e=t(i[0]).val();t(i[0]).focus().val("").val(e),n[r.focusOn]=!1})})}}]).directive("blurOn",["$timeout",function(e){return function(n,i,r){n.$watch(r.blurOn,function(a){a===!0&&e(function(){var e=t(i[0]).val();t(i[0]).blur().val("").val(e),n[r.blurOn]=!1})})}}]).directive("infiniteScroll",function(){return function(e,t,n){var i=t[0];setInterval(function(){i.scrollTop+i.offsetHeight+500>=i.scrollHeight&&e.$apply(n.infiniteScroll)},100)}}).directive("udMaxlength",function(){return{require:"ngModel",link:function(e,t,n,i){function r(e){return i.$setValidity("unique",e.length<=a),e}var a=Number(n.udMaxlength);i.$parsers.push(r)}}}).directive("readMore",["gettextCatalog",function(e){return{link:function(e,t){var n=Number(attrs.maxLength),i=Number(attrs.maxWords),r=!1,a=t.text();n?r=n<a.length:i&&(r=3>i)}}}])}),define("course-taking-dashboard.app/../../directives/common/popup",["angular","jquery","jsuri"],function(e,t,n){"use strict";e.module("directives").directive("popup",["$timeout","$parse",function(e,i){return{scope:{open:"=?",href:"@",beforeClose:"&?"},restrict:"EA",terminal:!0,link:function(r,a,o){a.css("display","block");var s={scrolling:"auto",width:o.width||400,height:o.height||"auto",minWidth:o.width||400,minHeight:o.height||"auto",autoDimensions:!1,autoCenter:!0,padding:0,autoSize:!0,fitToView:!1,wrapCSS:"static-content-wrapper",afterShow:function(){this.inner.ud_initialize()},beforeClose:function(){t("#fancybox-overlay").addClass("noopacity");var n=r.beforeClose?r.beforeClose():!0;return e(function(){r.$apply()},0),n}};r.$watch("href",function(e){if(e){if("#"!==e[0]){s.type="ajax";var t=new n(o.href);t.addQueryParam("displayType","ajax")}s.href=t}}),r.$watch("open",function(e){e&&(t.fancybox.open(a,s),r.open=!1)}),r.$watch(function(){return i(o.reposition)(r)},function(e){e&&t.fancybox.reposition()})}}}])}),define("course-taking-dashboard.app/../../directives/common/ajax-loader",["angular"],function(e){"use strict";e.module("directives",[]).directive("ajaxLoader",function(){return{restrict:"E",replace:!0,scope:{loading:"="},template:'<span ng-show="loading" class="ajax-loader-stick" style="padding: 0px 25px;"></span>'}})}),define("jquery-widget-init",["jquery","jquery-migrate","jquery.ui","bootstrap"],function(e){"use strict";var t=e.fn.button.noConflict();return e.fn.btn=t,Function.prototype.context=function(e){if(arguments.length<2&&"undefined"===arguments[0])return this;var t=this,n=arguments;return function(){for(var i=[],r=1;r<n.length;r++)i.push(n[r]);for(r=0;r<arguments.length;r++)i.push(arguments[r]);return t.apply(e,i)}},e}),define("ud.widget.mapping",[],function(){"use strict";var e={};return e[".ud-country-select "]={mid:"ud.country-select",fname:"countrySelect"},e[".ud-videojs-ready"]={mid:"ud.videojs-ready",fname:"videojsReady"},e[".ud-progresser"]={mid:"ud.progresser",fname:"progresser"},e[".ud-prevent-key"]={mid:"ud.preventkey",fname:"ud_preventkey"},e["input[type=radio].ud-star"]={mid:"jquery.rating",fname:"rating"},e[".ud-android-smart-banner"]={mid:"ud.android.smart.banner",fname:"ud_android_smart_banner"},e[".ud-articlecreator"]={mid:"ud.articlecreator",fname:"ud_articlecreator"},e[".ud-assetcreator"]={mid:"ud.assetcreator",fname:"ud_assetcreator"},e[".ud-assetcreator-externallink"]={mid:"ud.assetcreator.externallink",fname:"ud_assetcreator_externallink"},e[".ud-assetcreator-fileuploader"]={mid:"ud.assetcreator.fileuploader",fname:"ud_assetcreator_fileuploader"},e[".ud-autocomplete"]={mid:"ud.autocomplete",fname:"ud_autocomplete"},e[".ud-autosuggestformitem"]={mid:"ud.autosuggestformitem",fname:"ud_autosuggestformitem"},e[".ud-bulletlistformitem"]={mid:"ud.bulletlistformitem",fname:"ud_bulletlistformitem"},e[".ud-buylicenses"]={mid:"ud.buylicenses",fname:"ud_buylicenses"},e[".ud-categorization"]={mid:"ud.categorization",fname:"ud_categorization"},e[".ud-newcouponcodeform"]={mid:"ud.newcouponcodeform",fname:"ud_newcouponcodeform"},e[".ud-couponcodes"]={mid:"ud.couponcodes",fname:"ud_couponcodes"},e[".ud-coursecarousel"]={mid:"ud.coursecarousel",fname:"ud_coursecarousel"},e[".ud-content-loader"]={mid:"ud.content.loader",fname:"ud_content_loader"},e[".ud-courseimpressiontracker"]={mid:"ud.courseimpressiontracker",fname:"ud_courseimpressiontracker"},e[".ud-courseprivacyformitem"]={mid:"ud.courseprivacyformitem",fname:"ud_courseprivacyformitem"},e[".ud-newcreditcard"]={mid:"ud.newcreditcard",fname:"ud_newcreditcard"},e[".ud-newcreditcardexpirationformitem"]={mid:"ud.newcreditcardexpirationformitem",fname:"ud_newcreditcardexpirationformitem"},e[".ud-curriculumform"]={mid:"ud.curriculumform",fname:"ud_curriculumform"},e[".ud-dashboard"]={mid:"ud.dashboard",fname:"ud_dashboard"},e[".ud-quiz-view"]={mid:"ud.quiz.view",fname:"ud_quiz_view"},e[".ud-disqus"]={mid:"ud.disqus",fname:"ud_disqus"},e[".ud-extras"]={mid:"ud.extras",fname:"ud_extras"},e[".ud-fileupload"]={mid:"ud.fileupload",fname:"ud_fileupload"},e[".ud-s3upload"]={mid:"ud.s3upload",fname:"ud_s3upload"},e[".ud-s3videouploadform"]={mid:"ud.s3videouploadform",fname:"ud_s3videouploadform"},e[".ud-legacy-formajaxify"]={mid:"ud.legacy.formajaxify",fname:"ud_legacy_formajaxify"},e[".ud-form"]={mid:"ud.form",fname:"ud_form"},e[".ud-gift-card"]={mid:"ud.giftcard",fname:"ud_giftcard"},e[".ud-jwplayer-communicator"]={mid:"ud.jwplayer.communicator",fname:"ud_jwplayer_communicator"},e[".ud-videojs-communicator"]={mid:"ud.videojs.communicator",fname:"ud_videojs_communicator"},e[".ud-iframecreator"]={mid:"ud.iframecreator",fname:"ud_iframecreator"},e[".ud-s3imageuploadwithpreview"]={mid:"ud.s3imageuploadwithpreview",fname:"ud_s3imageuploadwithpreview"},e[".ud-importcontent"]={mid:"ud.importcontent",fname:"ud_importcontent"},e[".ud-inplaceeditor"]={mid:"ud.inplaceeditor",fname:"ud_inplaceeditor"},e[".ud-inplacenoteeditor"]={mid:"ud.inplacenoteeditor",fname:"ud_inplacenoteeditor"},e[".ud-invitationrequest"]={mid:"ud.invitationrequest",fname:"ud_invitationrequest"},e[".ud-migration-highchart"]={mid:"ud.migration.highchart",fname:"ud_migrationhighchart"},e[".ud-migration-summary"]={mid:"ud.migration.summary",fname:"ud_migrationsummary"},e[".ud-landingpage-curriculum"]={mid:"ud.landingpage.curriculum",fname:"ud_landingpage_curriculum"},e[".ud-loader"]={mid:"ud.loader",fname:"ud_loader"},e[".ud-locale-setting"]={mid:"ud.locale.setting",fname:"ud_locale_setting"},e[".ud-manageinstructors"]={mid:"ud.manageinstructors",fname:"ud_manageinstructors"},e[".ud-mashupcreator"]={mid:"ud.mashupcreator",fname:"ud_mashupcreator"},e[".ud-message"]={mid:"ud.message",fname:"ud_message"},e[".ud-multiplechoicequestionformitem"]={mid:"ud.multiplechoicequestionformitem",fname:"ud_multiplechoicequestionformitem"},e[".ud-notetaking"]={mid:"ud.notetaking",fname:"ud_notetaking"},e[".ud-notifications"]={mid:"ud.notifications",fname:"ud_notifications"},e[".ud-page"]={mid:"ud.page",fname:"ud_page"},e[".ud-pagination"]={mid:"ud.pagination",fname:"ud_pagination"},e[".ud-paymentreport"]={mid:"ud.paymentreport",fname:"ud_paymentreport"},e[".ud-statementdetail"]={mid:"ud.statementdetail",fname:"ud_statementdetail"},e[".ud-newpayment"]={mid:"ud.newpayment",fname:"ud_newpayment"},e[".ud-popover"]={mid:"ud.popover",fname:"ud_popover"},e[".ud-toggler"]={mid:"ud.toggler",fname:"ud_toggler"},e[".ud-popup"]={mid:"ud.popup",fname:"ud_popup"},e[".ud-popupcoursesubmit"]={mid:"ud.popupcoursesubmit",fname:"ud_popupcoursesubmit"},e[".ud-sharebutton"]={mid:"ud.sharebutton",fname:"ud_sharebutton"},e[".ud-presentationviewer"]={mid:"ud.presentationviewer",fname:"ud_presentationviewer"},e[".ud-promotion"]={mid:"ud.promotion",fname:"ud_promotion"},e[".ud-report"]={mid:"ud.report",fname:"ud_report"},e[".ud-search"]={mid:"ud.search",fname:"ud_search"},e[".ud-formajax"]={mid:"ud.formajax",fname:"ud_formajax"},e[".ud-announcement"]={mid:"ud.announcement",fname:"ud_announcement"},e[".ud-seologger"]={mid:"ud.seologger",fname:"ud_seologger"},e[".ud-signin-form"]={mid:"ud.signin.form",fname:"ud_signin_form"},e[".ud-test-asset-comments"]={mid:"ud.testasset.comments",fname:"ud_testasset_comments"},e[".ud-textinput"]={mid:"ud.textinput",fname:"ud_textinput"},e[".ud-thumbnailselector"]={mid:"ud.thumbnailselector",fname:"ud_thumbnailselector"},e[".ud-smsmobileapp"]={mid:"ud.smsmobileapp",fname:"ud_smsmobileapp"},e[".ud-updatecreditcards"]={mid:"ud.updatecreditcards",fname:"ud_updatecreditcards"},e[".ud-urltextformitem"]={mid:"ud.urltextformitem",fname:"ud_urltextformitem"},e[".ud-usertracker"]={mid:"ud.usertracker",fname:"ud_usertracker"},e[".ud-discover-tracker"]={mid:"ud.discover.tracker",fname:"ud_discover_tracker"},e[".ud-s3videouploadwithpreview"]={mid:"ud.s3videouploadwithpreview",fname:"ud_s3videouploadwithpreview"},e[".ud-wishlist"]={mid:"ud.wishlist",fname:"ud_wishlist"},e[".ud-wysiwyg"]={mid:"ud.wysiwyg",fname:"ud_wysiwyg"},e['[class*="ud-jq-"]']={mid:"ud.jqelement",fname:"ud_jqelement"},e[".ud-organization-analytics"]={mid:"ud.organization.analytics",fname:"ud_organization_analytics"},e[".ud-organization-manageusersandgroups"]={mid:"ud.organization.manageusersandgroups",fname:"ud_organization_manageusersandgroups"},e[".ud-organization-managegroup"]={mid:"ud.organization.managegroup",fname:"ud_organization_managegroup"},e[".ud-organization-invitenewusers"]={mid:"ud.organization.invitenewusers",fname:"ud_organization_invitenewusers"},e[".ud-organization-editusergroups"]={mid:"ud.organization.editusergroups",fname:"ud_organization_editusergroups"},e[".ud-organization-managecourses"]={mid:"ud.organization.managecourses",fname:"ud_organization_managecourses"},e[".ud-organization-publishcourse"]={mid:"ud.organization.publishcourse",fname:"ud_organization_publishcourse"},e[".ud-organization-managesubscription"]={mid:"ud.organization.managesubscription",fname:"ud_organization_managesubscription"},e[".ud-organization-managebilling"]={mid:"ud.organization.managebilling",fname:"ud_organization_managebilling"},e[".ud-collection-listnewcourse"]={mid:"ud.collection.listnewcourse",fname:"ud_collection_listnewcourse"},e[".ud-userlist"]={mid:"ud.userlist",fname:"ud_userlist"},e[".ud-admin-managestatement"]={mid:"ud.admin.managestatement",fname:"ud_admin_managestatement"},e[".ud-admin-support-refund"]={mid:"ud.admin.support.refund",fname:"ud_admin_support_refund"},e[".model-hellobar #hellobar_form"]={mid:"ud.admin.hellobar.form",fname:"ud_admin_hellobar_form"},e[".model-hellobarstandalone #hellobarstandalone_form"]={mid:"ud.admin.hellobar.form",fname:"ud_admin_hellobar_form"},e[".model-promotion #promotion_form"]={mid:"ud.admin.promotion.form",fname:"ud_admin_promotion_form"},e[".ud-admin-choicetext-field"]={mid:"ud.admin.choicetext.field",fname:"ud_admin_choicetext_field"},e[".ud_admin_user_sendgrid_status"]={mid:"ud.admin.user.sendgrid.status",fname:"ud_admin_user_sendgrid_status"},e[".ud_admin_support_action"]={mid:"ud.admin.support.action",fname:"ud_admin_support_action"},e[".model-coursetag #coursetag_form"]={
mid:"ud.admin.coursetag.form",fname:"ud_admin_coursetag_form"},e[".ud-google-plus-signup-social"]={mid:"ud.google.plus.signup.social",fname:"ud_google_plus_signup_social"},e[".ud-facebook-signup"]={mid:"ud.facebook.signup",fname:"ud_facebook_signup"},e[".ud-styleguide-navscroll"]={mid:"ud.styleguide.navscroll",fname:"ud_styleguide_navscroll"},e[".ud-date-time-form-item"]={mid:"ud.date.time.form.item",fname:"ud_date_time"},e[".ud-date-form-item"]={mid:"ud.date.form.item",fname:"ud_date"},e}),define("ud.initializer",["jquery-widget-init","ud.widget.mapping"],function(e,t){"use strict";e.fn.ud_initialize=function(n){var i={onComplete:function(){}},r=e.extend(i,n),a=e(this),o=0,s=function(e){o++},c=function(e){o--,0===o&&r.onComplete()},u=c;for(var l in t){var d=e(l,a);if(d.length>0){var p=t[l],m=p.mid,f=p.fname;s(m.toString()),require([m.toString()],function(t,n,i,r){e(t).each(function(t,i){"undefined"==typeof e(i).data(n)&&e(i)[n]()}),i(r.toString())}.bind(this,d,f,c,m.toString()),function(e,t,n,i,r,a){throw console&&console.log("Require couldn't load",a,r,e,t,n),i(r.toString()),a}.bind(this,d,f,l,u,m.toString()))}}0===o&&r.onComplete(),e.each("undefined"==typeof window.onReadyCalls?[]:window.onReadyCalls,function(e,t){t()}),window.onReadyCalls=[]}}),define("angular-module-patch",["angular"],function(e){var t=e.module,n={};e.module=function(e,i,r){i=i||[];var a=null;return n[e]?(a=t(e),a.requires.push.apply(a.requires,i)):(a=t(e,i,r),n[e]=a),a}}),define("course-taking-dashboard.app/../../patches/extend-deep",["angular","angular-module-patch"],function(e){e.extendDeep=function t(n){return e.forEach(arguments,function(i){i!==n&&e.forEach(i,function(e,i){n[i]&&n[i].constructor&&n[i].constructor===Object?t(n[i],e):n[i]=e})}),n}}),define("course-taking-dashboard.app/../../directives/common/chart",["angular","jquery","ud-template","ud-translate","ud.initializer","../../patches/extend-deep"],function(e,t){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("chart",["$http","gettextCatalog",function(n,i){var r="data:application/csv;charset=UTF-8,",a=function(n,i,a){var c="Yes"==a.pivot||"true"==a.pivot?o(a.data):a.data;if(n.rawCsvData=s(c),n.csvData=r+encodeURIComponent(n.rawCsvData),"value"===n.type){var u;for(var l in c[0])u=c[0][l];n.chartData.singleValue=u,n.loadingData=!1}else"table"===n.type?(n.chartData.table=c,n.loadingData=!1):require(["ud.intelligence.chart.renderers"],function(r){var a=r[n.type];if(a){var o={chart:{events:{load:function(){n.$apply(function(){n.loadingData=!1,t(i).ud_initialize()})}}},yAxis:{title:{text:""},min:0,tickPixelInterval:25,gridLineDashStyle:"dash",labels:{style:{color:"#888",font:"10px Trebuchet MS, Verdana, sans-serif"}}},colors:["#77BC85","#77aebc","#bca677","#af7b7b","#8b7191","#92A8CD","#A47D7C","#B5CA92","#3d6546","#85703f","#653d3d"]};switch(n.yAxisLabel&&(o.yAxis.title={text:n.yAxisLabel},o.legend={enabled:!1}),"true"===n.rotateLabels&&e.extend(o,{xAxis:{labels:{rotation:-45,align:"right"}}}),n.type){case"piechart":e.extend(o,{plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,color:"#000000",connectorColor:"#000000",format:"{point.percentage:.1f}%"},showInLegend:!0}}});break;case"column":e.extend(o,{plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:.035}}})}e.extendDeep(o,n.options),a.render(c,i,o,n.options)}})},o=function(e){if(e.length<1)return[];var t=UD.Utils.Object.getFieldsArray(e[0]);return UD.Utils.Array.pivotize(e,t[0],t[1],t[2],0)},s=function(n){var i,r=[],a=[];if(n&&n.length){var o=UD.Utils.Object.getFieldsArray(n[0]);r.push('"'+o.join('","')+'"'),t.each(n,function(t,n){a=[];for(var s=0;s<o.length;s++){i=n[o[s]];try{e.isObject(i)&&(i=i.label),"number"==typeof i||i&&i.match(/^-{0,1}\d*\.{0,1}\d+$/)?a.push(parseFloat(i)):a.push('"'+(i||"")+'"')}catch(c){}}r.push(a.join(","))});var s=r.join("\n");return s}};return{controller:["$scope",function(e){e.loadingData=!0,e.chartHeight=e.height?e.height.replace(/(px)?$/,"px"):"auto",e.chartData={},e.getKeysForObject=function(e){return e?Object.keys(e).filter(function(e){return"$$hashKey"!=e}):[]}}],restrict:"E",replace:!0,transclude:!0,scope:{url:"=",pivot:"@",type:"@",title:"@",height:"@",rotateLabels:"@",yAxisLabel:"@",extraLinksToRender:"@",options:"=",zeroText:"@"},templateUrl:"/staticx/udemy/js/ng/directives/common/chart.tpl.html",link:function(e,r){e.$watch("zeroText",function(t){t?e.zeroText=t:e.zeroText=i.getString("No data received.")}),e.extraLinksToRender&&(e.extraLinks=JSON.parse(e.extraLinksToRender)),n.get(e.url).success(function(n){e.data=n,a(e,r.find(".body"),{pivot:e.pivot,data:e.data}),t(r).ud_initialize()}.context(this)),e.exportToCsvClickHandler=function(e){if(window.navigator.msSaveOrOpenBlob&&window.Blob){e.preventDefault();var n=t(e.currentTarget),i=new Blob([n.data("rawCsvData")],{type:"text/csv"}),r=n.attr("download");navigator.msSaveOrOpenBlob(i,r)}}}}}])}),define("course-taking-dashboard.app/../../directives/common/forms/form-alert",["angular"],function(e){"use strict";function t(){return{restrict:"EA",templateUrl:"/staticx/udemy/js/ng/directives/common/forms/form-alert.tpl.html",replace:!0,scope:{error:"="}}}var n=e.module("ud.common.formAlert",[]).directive("formAlert",t);return n}),define("course-taking-dashboard.app/../../directives/common/forms/form-error",["angular","../../../services/Utils"],function(e){"use strict";function t(t,n){function i(){this.state={},this.reset(),this.ErrorType=t}return i.prototype.setErrorMessage=function(e){this.state.message=e},i.prototype.getMessage=function(){return this.state.message},i.prototype.getType=function(){return this.state.type},i.prototype.getCurrent=function(){return this.state},i.prototype.reset=function(){this.state.type=t.info,this.state.message=null,this.state.ignoreWarnings=!1},i.prototype.ignoreWarnings=function(e,t){return this.hasWarnings()&&e==t},i.prototype.hasWarnings=function(){return this.state.ignoreWarnings},i.prototype.processResponseError=function(i){var r,a=i.data,o=a.detail?a.detail.error:a.error,s=o.details,c=s.invalidItems,u=s.warningItems,l=(s.error+" "+n.joinObjWithEnclosedTag(c,"p")).trim();l?(this.state.message=l,this.state.type=t.danger):(this.state.message=n.joinObjWithEnclosedTag(u,"p").trim(),this.state.type=t.warning),e.isFunction(i.headers)&&(r=i.headers(),this.state.feedback={message:r["x-ui-message"],type:r["x-ui-message-type"]}),"warning"===o.details.result&&(this.state.ignoreWarnings=!0)},i.prototype.getFeedback=function(){return this.state.feedback},i.prototype.getFeedback=function(){return this.state.feedback},i}var n=e.module("ud.common.forms.formError",[]).constant("FORM_ERROR_TYPE",{info:"info",warning:"warning",danger:"danger"}).factory("FormError",t);return t.$inject=["FORM_ERROR_TYPE","Utils"],n}),define("course-taking-dashboard.app/../../directives/common/forms/module",["angular","./form-alert","./form-error"],function(e,t,n){"use strict";return e.module("apps.common.forms",[t.name,n.name])}),define("course-taking-dashboard.app/../../directives/common/popover/popover",["angular","ui-bootstrap"],function(e){"use strict";function t(t,n,i,r,a){function o(t){this.scope=null,this.element=t.element||s,this.popoverElem=null,this.options=e.extend({},t),this.isOpen=!1}var s=i.find("body"),c=e.element('<div class="popover {{placement}}"  ng-click =\'$event.stopPropagation()\' style =" display: block; position: absolute; z-index: 1054 ;">   <div class="arrow"></div></div>');return o.prototype.close=function(){this.popoverElem&&(this.popoverElem.remove(),this.isOpen=!1,this.scope.$destroy())},o.prototype.applyPosition=function(){var e;this.element.after(this.popoverElem),e=a.positionElements(this.element,this.popoverElem,this.scope.placement,!1),e.top+="px",e.left+="px",this.popoverElem.css(e)},o.prototype.open=function(){var i,a=this;a.isOpen||(a.scope=a.options.scope.$new(),i=c.clone(),a.isOpen=!0,a.scope.placement=a.options.placement||"top",a.options.template&&(a.scope.template=this.options.template),t.get(a.scope.template,{cache:n}).success(function(t){i.append(e.element(t)),a.popoverElem=r(i)(a.scope,function(){}),a.applyPosition()}))},{create:function(e){return new o(e)}}}function n(t,n){return{link:function(i,r,a){var o,s,c=e.noop,u={scope:i,element:r,template:a.template,placement:a.placement};o=n.create(u),a.isOpen&&(s=t(a.isOpen),c=s.assign,i.$watch(s,function(e){i._isOpen=!!e})),i.$watch("_isOpen",function(e){e?o.open():o.close(),c(i,e)}),i.$on("$destroy",function(){i._isOpen=!1})}}}t.$inject=["$http","$templateCache","$document","$compile","$position"],n.$inject=["$parse","Popover"],e.module("directives.common.popover",["ui.bootstrap"]).factory("Popover",t).directive("popoverBtn",n)}),define("ud.googleanalytics",["jquery","jquery-migrate"],function(e,t){"use strict";var n=window.UD||{},i=!1;return window.GoogleAnalyticsObject="ga",n.Config.brand.is_external_sources_enabled?(window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=1*new Date,i?require(["//www.google-analytics.com/analytics_debug.js"]):require(["//www.google-analytics.com/analytics.js"])):window.ga=!1,n.GoogleAnalytics=n.GoogleAnalytics||{},n.GoogleAnalytics.createAccount=function(e,t,n){window.ga&&e&&(t?window.ga("create",e,"auto",{name:t,cookieDomain:n||"none"}):(window.ga("create",e,"auto"),window.ga("require","displayfeatures")))},n.GoogleAnalytics.trackPageview=function(e,t,i,r,a){if(window.ga&&e){n.GoogleAnalytics.createAccount(e,t,r),a&&window.ga("set","contentGroup1",a);var o=[];t?o.push(t.concat(".send")):o.push("send"),o.push("pageview"),i&&o.push({hitType:"pageview",page:i}),window.ga.apply(window,o)}},n.GoogleAnalytics.trackEvent=function(t,n,i,r,a,o){if(window.ga&&t&&n){var s=[];a?s.push(a.concat(".send")):s.push("send"),s.push("event"),s.push(t,n),i&&s.push(i),r&&s.push(parseInt(r,10)||0),o=o?e.extend({},{nonInteraction:0},o):{nonInteraction:0},s.push(o),window.ga.apply(window,s)}},n.GoogleAnalytics.setValue=function(e,t,n){if(window.ga&&e&&t){var i=[];n?i.push(n.concat(".set")):i.push("set"),i.push(e,t),window.ga.apply(window,i)}},n.GoogleAnalytics.trackPurchase=function(e){window.ga&&e&&(window.ga("require","ecommerce"),window.ga("ecommerce:addTransaction",e),window.ga("ecommerce:send"))},n.GoogleAnalytics.trackAllPageview=function(t){var i;e(".ud-page").data("content-group")&&(i=e(".ud-page").data("content-group")),this.trackPageview(n.Config.third_party.google_analytics_id,null,t,null,i),n.Config.brand.has_custom_google_analytics?this.trackPageview(n.Config.brand.google_analytics_id,"brand",t):setTimeout("UD.GoogleAnalytics.trackEvent('send', '15_seconds', 'read')",15e3),this.instructor&&this.trackPageview(this.instructor.accountId,"instructor",this.instructor.page)},n.GoogleAnalytics.trackAllPageview(),n.GoogleAnalytics.queuedPurchase&&n.GoogleAnalytics.trackPurchase(n.GoogleAnalytics.queuedPurchase),n.GoogleAnalytics}),define("course-taking-dashboard.app/../../directives/common/fields/search-field",["angular","ud-template","ud.googleanalytics"],function(e){"use strict";function t(e){function t(){return e.searchFieldDirectiveCompiled=!0,n}function n(e){e.showClearBtn=function(){return e.hasClearBtn&&e.value},e.sendGoogleAnalyticsEvent=function(){UD.GoogleAnalytics.trackEvent(e.eventSourcePage,"post search",null,null,e.eventTracker)},e.clear=function(){e.value="",e.onSubmit({value:e.value}),e.showClearBtn()}}return{restrict:"AE",replace:!0,scope:{placeholder:"@",onClear:"&",onSubmit:"&",isDisabled:"=",hasClearBtn:"=",value:"=",eventSourcePage:"@",eventTracker:"@"},templateUrl:"/staticx/udemy/js/ng/directives/common/fields/search-field.tpl.html",compile:t}}var n=e.module("directives.common.fields.searchField",["udTemplate"]).directive("searchField",["$rootScope",t]);return n}),define("course-taking-dashboard.app/../../directives/common/fields/char-count-field",["angular","ud-template"],function(e){"use strict";function t(e){return function(){return{restrict:"AE",replace:!0,scope:{maxChars:"=",placeholder:"=",text:"=",rows:"="},templateUrl:e,link:function(e,t,n){function i(){e.remainingChars=e.maxChars-(e.text||"").length}i(),e.change=function(){i(),e.remainingChars<0?t.addClass("char-limit-exceeded"):t.removeClass("char-limit-exceeded")},e.$watch("text",e.change)}}}}var n=e.module("directives.common.fields.charCountField",["udTemplate"]).directive("charCountField",t("/staticx/udemy/js/ng/directives/common/fields/char-count-field.tpl.html")).directive("textareaCountField",t("/staticx/udemy/js/ng/directives/common/fields/textarea-count-field.tpl.html"));return n}),define("course-taking-dashboard.app/../../directives/common/fields/input-utils",["angular"],function(e){"use strict";function t(e){var t="udInitFocus";return{restrict:"A",link:function(n,i,r){e(function(){var e=r[t];e||i[0].focus()})}}}var n=e.module("directives.common.fields.inputUtils",["udTemplate"]).directive("udInitFocus",t);return t.$inject=["$timeout"],n}),define("course-taking-dashboard.app/../../directives/common/fields/module",["angular","./search-field","./char-count-field","./input-utils"],function(e,t,n,i){"use strict";return e.module("directives.common.fields",[t.name,n.name,i.name])}),define("course-taking-dashboard.app/../../directives/common/loc-ref",["angular"],function(e){"use strict";function t(){return{restrict:"A",require:"?^locRefActive",link:function(e,t,n,i){var r=n.href||n.ngHref;i.setUrl(r)}}}function n(e,t){return{restrict:"A",controller:["$scope","$element","$attrs",function(n,i,r){function a(){return e.path()}function o(){s()?i.addClass(u):i.removeClass(u)}function s(){return c===a()}var c,u=t(r.locRefActive)(n);n.$watch(a,o),this.setUrl=function(e){c=e.replace(".","")}}]}}var i=e.module("directives.common.locRef",[]).directive("locRef",t).directive("locRefActive",n);return t.$inject=[],n.$inject=["$location","$interpolate"],i}),define("course-taking-dashboard.app/../../directives/common/header/header-loc-dropdown",["angular","underscore"],function(e,t){"use strict";function n(){var e={restrict:"AE",transclude:!0,replace:!0,scope:{name:"@"},controller:"HeaderLocDropdownController",templateUrl:"/staticx/udemy/js/ng/directives/common/header/header-loc-dropdown.tpl.html"};return e}function i(){var e={restrict:"AE",scope:{item:"="},require:"^liHeaderLocDropdown",replace:!0,templateUrl:"/staticx/udemy/js/ng/directives/common/header/header-loc-dropdown-item.tpl.html",link:function(e,t,n,i){i.addItem(e.item)}};return e}function r(e,n){function i(){e.selectedItem=t.findWhere(e.items,{target_url:n.path()})}e.items=[],e.selectedItem=null,e.$on("$locationChangeSuccess",i),this.addItem=function(t){e.items.push(t),i()}}var a=e.module("apps.channelDashboard.channel.headerLocDropdown",[]).directive("liHeaderLocDropdown",n).directive("headerLocDropdownItem",i).controller("HeaderLocDropdownController",r);return r.$inject=["$scope","$location"],a}),define("course-taking-dashboard.app/../../directives/common/header/module",["angular","./header-loc-dropdown"],function(e,t){"use strict";return e.module("directives.common.header",[t.name])}),define("course-taking-dashboard.app/../../directives/common/date/date-range-picker",["angular","jquery","ui-bootstrap"],function(e,t){"use strict";function n(){return{restrict:"E",replace:!0,controller:["$scope",function(e){e.open=function(e,t){e.preventDefault(),e.stopPropagation(),t.isOpen=!t.isOpen}}],scope:{start:"=",end:"=",minDate:"=",maxDate:"=",dateFormat:"=",dateOptions:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/date/date-range-picker.html"}}function i(){return{restrict:"E",replace:!0,controller:["$scope",function(e){e.open=function(e,n){e.preventDefault(),e.stopPropagation(),n.isOpen=!n.isOpen,t(".glyphicon-chevron-right").each(function(e,n){t(n).switchClass("glyphicon-chevron-right","icon-arrow-right")}),t(".glyphicon-chevron-left").each(function(e,n){t(n).switchClass("glyphicon-chevron-left","icon-arrow-left")})}}],scope:{start:"=",end:"=",minDate:"=",maxDate:"=",dateFormat:"=",dateOptions:"="},templateUrl:"/staticx/udemy/js/ng/directives/common/date/date-range-picker-with-input.html"}}var r=e.module("directives.common.date.datePicker",[]).directive("dateRangePicker",n).directive("dateRangePickerWithInput",i);return n.$inject=[],i.$inject=[],r}),define("course-taking-dashboard.app/../../directives/common/date/module",["angular","./date-range-picker"],function(e,t){"use strict";return e.module("directives.common.date",[t.name])}),define("course-taking-dashboard.app/../../directives-common",["./directives/common/utils","./directives/common/popup","./directives/common/ajax-loader","./directives/common/chart","./directives/common/forms/module","./directives/common/popover/popover","./directives/common/fields/module","./directives/common/loc-ref","./directives/common/header/module","./directives/common/date/module"],function(e,t,n,i,r,a,o,s,c,u){"use strict";return angular.module("directives.common",["directives.common.popover","directives.common.fields",s.name,c.name,u.name])}),define("course-taking-dashboard.app/../../directives/activity/activity",["angular","ud-template","ud-translate"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activity",["$rootScope",function(e){function t(){return e.activityDirectiveCompiled=!0,n}function n(e){e.state=e.state||{},e.state.isEditing=!1,e.state.isSubmitted=!1}return{restrict:"E",replace:!0,transclude:!0,scope:{index:"@",showComments:"=",activities:"=",activity:"=",eventSourcePage:"@"},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity.tpl.html",compile:t}}])}),angular.module("ui.keypress",[]).factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,a,o){var s,c=[];s=r.$eval(o["ui"+n(i)]),angular.forEach(s,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),c.push(i)})}),a.bind(i,function(e){var n=!(!e.metaKey||e.ctrlKey),a=!!e.altKey,o=!!e.ctrlKey,s=!!e.shiftKey,u=e.keyCode;"keypress"===i&&!s&&u>=97&&122>=u&&(u-=32),angular.forEach(c,function(i){var c=i.keys[t[u]]||i.keys[u.toString()],l=!!i.keys.meta,d=!!i.keys.alt,p=!!i.keys.ctrl,m=!!i.keys.shift;c&&l===n&&d===a&&p===o&&m===s&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.keypress").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.keypress").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}]),define("course-taking-dashboard.app/../../libs/angular-ui/keypress",function(){}),define("course-taking-dashboard.app/../../directives/activity/comment",["angular","ud-template","ud-translate","../../libs/angular-ui/keypress"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("comment",function(){var e=function(e){e.enterPressed=function(t){t.preventDefault();var n=e.commentText&&e.commentText.trim();n&&(e.commentText=n,e.comment?(e.comment.body=e.commentText,e.showForm=!1,e.updateCommentFn({commentId:e.comment.id,commentText:e.commentText,callbackFn:function(t){e.comment.body=t}})):(e.addCommentFn({commentText:e.commentText}),e.commentText=""))},e.escPressed=function(t){t.preventDefault(),e.comment?e.showForm=!1:e.shouldBlur=!0},e.onCommentEdit=function(){e.commentText=e.comment.body,e.showForm=!0,e.editEnabled=!0,e.shouldFocus=!0},e.onCommentDelete=function(){window.confirm("Are you sure you want to delete?")&&e.deleteCommentFn({commentId:e.comment.id})},e.$watch("focusForm",function(t){t&&(e.shouldFocus=!0)})};return e.$inject=["$scope"],{controller:e,restrict:"E",replace:!0,transclude:!0,scope:{comment:"=",courseId:"=",showImage:"@",showForm:"@",addCommentFn:"&",updateCommentFn:"&",deleteCommentFn:"&",focusForm:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/comment.tpl.html"}})}),define("course-taking-dashboard.app/../../directives/activity/activity-comments",["angular","ud-template","ud-translate","./comment","../../services/Activity"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityComments",["Activity","$rootScope",function(e,t){var n=function(t){t.loadMoreComments=function(){t.visibleComments=t.invisibleComments.splice(0-t.pageSize).concat(t.visibleComments)},t.addComment=function(n){var i={user:t.me,body:n};t.visibleComments.push(i),t.comments.push(i);var r=e.createComment(t.activity.target.id,t.activity.id,n);r.success(function(e){var n=e;t.visibleComments.pop(),t.visibleComments.push(n),t.comments.pop(),t.comments.push(n)})},t.updateComment=function(n,i,r){var a=e.updateComment(t.activity.target.id,t.activity.id,n,i);a.success(function(e){r&&r(e.body)})},t.deleteComment=function(n){var i;for(i in t.visibleComments)t.visibleComments[i].id==n&&t.visibleComments.splice(i,1);for(i in t.comments)t.comments[i].id==n&&t.comments.splice(i,1);e.deleteComment(t.activity.target.id,t.activity.id,n)}};return n.$inject=["$scope"],{controller:n,restrict:"E",replace:!0,transclude:!0,scope:{me:"=",activity:"="},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-comments.tpl.html",link:function(e){e.pageSize=5,e.comments=e.activity.comments,t.expandAll?(e.visibleComments=e.activity.comments.slice(0),e.invisibleComments=[]):(e.visibleComments=e.activity.comments.slice(-3),e.invisibleComments=e.activity.comments.slice(0,-3))}}}])}),define("ud-me",[],function(){"use strict";return UD.me}),define("ud.coursetakingtracker",["ud-config","ud-me","ud.googleanalytics","ud.api.v2"],function(e,t,n,i){"use strict";function r(){this._trackerName="courseDashboardTracker",this._dimensions={userId:"dimension1",userType:"dimension3",courseType:"dimension4",ctVersion:"dimension5"},this._eventData={userId:t.id,userType:null,courseId:null,courseType:null,objectId:null,objectType:null,ctVersion:null},n.createAccount(e.third_party.google_analytics_id_for_course_taking,this._trackerName),n.setValue(this._dimensions.userId,t.id,this._trackerName)}return r.prototype.BASE="base",r.prototype.R1="1",r.prototype.setUserType=function(e){n.setValue(this._dimensions.userType,e,this._trackerName),this._eventData.userType=e},r.prototype.setCourseId=function(e){this._eventData.courseId=e},r.prototype.setCourseType=function(e){n.setValue(this._dimensions.courseType,e,this._trackerName),this._eventData.courseType=e},r.prototype.setCurriculumObject=function(e,t){this._eventData.objectType=e,this._eventData.objectId=t},r.prototype.setCTVersion=function(e){n.setValue(this._dimensions.ctVersion,e,this._trackerName),this._eventData.ctVersion=e},r.prototype.track=function(e,t,r,a,o){if(this._eventData.courseId){n.trackEvent(e,t,r,a,this._trackerName,o);var s={};for(var c in this._eventData)s[c]=this._eventData[c];s.category=e,s.action=t,s.extra=JSON.stringify(o),i.call("/visits/me/page-events",{type:"POST",data:{type:"trackclick",page:"coursetaking",event:JSON.stringify(s)}})}},new r}),define("course-taking-dashboard.app/../../directives/activity/activity-follow",["angular","ud.coursetakingtracker","ud-template","ud-translate","../../services/Activity","ud.googleanalytics"],function(e,t){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityFollow",["Activity",function(e){var n=function(n){n.onFollow=function(){t.track(n.eventSourcePage,"post follow"),n.activity.is_following=!0,n.activity.num_follows+=1;var i=e.followActivity(n.activity);i.success(function(){}),i.error(function(){n.activity.is_following=!1,n.activity.num_follows-=1})},n.onUnfollow=function(){n.activity.is_following=!1,n.activity.num_follows-=1;var t=e.unfollowActivity(n.activity);t.success(function(){}),t.error(function(){n.activity.is_following=!0,n.activity.num_follows+=1})}};return n.$inject=["$scope"],{controller:n,restrict:"E",replace:!0,transclude:!0,scope:{activity:"=",eventSourcePage:"@"},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-follow.tpl.html"}}])}),define("ng-root/apps/course-taking-v4/v4url-filter",["angular","jsuri"],function(e,t){function n(e){return function(n){if(e.canAccessV4){var i=new t(n),r=i.anchor().split(":"),a=new t(i.path()+"v4"+r[0]+i.query());return r[1]&&a.addQueryParam("start",r[1]),a.toString()}return n}}var i=e.module("apps.courseTakingV4.v4urlFilter").filter("v4url",n);return n.$inject=["$rootScope"],i}),define("course-taking-dashboard.app/../../directives/activity/user-tooltip",["angular","ud-template","ud-translate"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("userTooltip",[function(){return{restrict:"E",replace:!0,transclude:!0,scope:{user:"=userData"},templateUrl:"/staticx/udemy/js/ng/directives/activity/user-tooltip.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-header",["angular","ud.coursetakingtracker","ud-template","ud-translate","ng-root/apps/course-taking-v4/v4url-filter","../../services/Activity","../../services/User","./user-tooltip","ud.googleanalytics"],function(e,t){"use strict";e.module("directives",["udTemplate","udTranslate","apps.courseTakingV4.v4urlFilter"]).directive("activityHeader",["$rootScope","Activity","User",function(e,n,i){function r(){return e.activityHeaderDirectiveCompiled=!0,a}function a(t,n,r){t.me=i.getMe(),t.actionText=r.actionText,t.actionIcon=r.actionIcon,t.$watch("[me, activity.actor, state.isEditing]",function(){var n=t.me&&t.me.id==t.activity.actor.id,i="announced"===t.activity.verb;t.isEditVisible=!i&&n&&!t.state.isEditing,t.isDeleteVisible=(n||e.isInstructor)&&!t.state.isEditing},!0)}var o=function(i){i.onActivityEdit=function(){i.state.isEditing=!0},i.onActivityDelete=function(){window.confirm("Are you sure you want to delete?")&&(i.activities.splice(i.index,1),n.deleteActivity(i.activity))},i.lectureUrl=function(t){return"/"+e.courseId+"/learn/#/lecture/"+t.id},i.sendGoogleAnalyticsEvent=function(e){t.track(i.eventSourcePage,e)}};return o.$inject=["$scope"],{controller:o,restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-header.tpl.html",compile:r}}])}),define("course-taking-dashboard.app/../../directives/activity/activity-like",["angular","ud.coursetakingtracker","ud-template","ud-translate","../../services/Activity","ud.googleanalytics"],function(e,t){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("activityLike",["Activity",function(e){var n=function(n){n.onLike=function(){t.track(n.eventSourcePage,"post like"),n.activity.is_liked=!0,n.activity.num_likes+=1;var i=e.likeActivity(n.activity);i.success(function(){}),i.error(function(){n.activity.is_liked=!1,n.activity.num_likes-=1})},n.onUnlike=function(){n.activity.is_liked=!1,n.activity.num_likes-=1;var t=e.unlikeActivity(n.activity);t.success(function(){}),t.error(function(){n.activity.is_liked=!0,n.activity.num_likes+=1})}};return n.$inject=["$scope"],{controller:n,restrict:"E",replace:!0,transclude:!0,scope:{activity:"=",eventSourcePage:"@"},templateUrl:"/staticx/udemy/js/ng/directives/activity/activity-like.tpl.html"}}])}),define("ng-root/services/Utils",["angular"],function(e){"use strict";e.module("services",[]).factory("Utils",["$timeout","$q",function(t,n){var i=function(t){e.extend(this,t)};return i.trimTags=function(t){return e.isString(t)?t.replace(/(<([^>]+)>)/gi,""):null},i.removeItemFromArray=function(e,t){var n=t.indexOf(e);return 0>=n?(t.splice(n,1),!0):!1},i.convertBoolToInt=function(e){return"boolean"==typeof e?e?1:0:void 0},i.convertParamToBool=function(e){return"true"===e||e>0},i.htmlTagsHasContent=function(e){return!!i.trimTags(e)},i.joinObjWithEnclosedTag=function(t,n){var i,r,a,o="";for(r in t)if(t.hasOwnProperty(r))for(a=t[r],e.isArray(a)||(a=[a]),i=0;i<a.length;i++)o+="<"+n+">"+t[r]+"</"+n+">";return o},i.debounce=function(e,i,r){var a,o=n.defer();return function(){var s=this,c=arguments,u=function(){a=null,r||(o.resolve(e.apply(s,c)),o=n.defer())},l=r&&!a;return a&&t.cancel(a),a=t(u,i),l&&(o.resolve(e.apply(s,c)),o=n.defer()),o.promise}},i}])}),define("course-taking-dashboard.app/../../directives/common/ud-wysiwyg",["angular","jquery","ng-root/services/Utils"],function(e,t){"use strict";return e.module("directives.common.udWysiwyg",["services"]).directive("udWysiwyg",["Utils",function(e){return{restrict:"E",replace:!0,transclude:!0,scope:{requestEditorInit:"=",requestEditorValue:"=",requestResetValue:"=",editorValue:"=",placeholderText:"@",defaultText:"=",editorValueCollectedFn:"=",redactorTheme:"@?"},templateUrl:"/staticx/udemy/js/ng/directives/common/ud-wysiwyg.tpl.html",link:function(n,i){n.redactorTheme||(n.redactorTheme="advanced-image-link"),n.initEditor=function(){var r=function(e){n.editorValue=e,n.$$phase||n.$root.$$phase||n.$apply()};t(i).ud_wysiwyg({changeCallback:e.debounce(r,500,!1),placeholder:n.placeholderText}),n.setValue(n.editorValue)},n.getValue=function(){return i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").getValue()},n.setValue=function(e){i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").setValue(e)},n.resetValue=function(){i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").setValue("")},n.destroyEditor=function(){i.data("ud-ud_wysiwyg")&&i.data("ud-ud_wysiwyg").destroy()},n.$watch("requestEditorValue",function(e){e===!0&&n.editorValueCollectedFn&&n.editorValueCollectedFn(n.editorValue?n.editorValue:"")}),n.$watch("requestResetValue",function(e){e===!0&&n.resetValue()}),n.$watch("requestEditorInit",function(e){e===!0&&require(["ud.wysiwyg"],function(){n.initEditor()})}),n.$watch("placeholderText",function(e){i.attr("placeholder",e)})}}}])}),define("course-taking-dashboard.app/../../directives/activity/announcement-form",["angular","ud-link","ud-template","ud-translate","../common/ud-wysiwyg","../common/forms/form-alert"],function(e,t,n,i,r){"use strict";e.module("directives",[n.name,i.name,r.name]).directive("announcementForm",function(){return{restrict:"E",templateUrl:"/staticx/udemy/js/ng/directives/activity/announcement-form.tpl.html",scope:{content:"=",state:"=",mode:"@"},link:function(e){e.promoteUrl=t.to("announcement","send")}}})}),define("course-taking-dashboard.app/../../directives/activity/announcement-activity",["angular","ud-template","ud-translate","../../services/Announcement","./activity-header","./activity-like","./activity-comments","./user-tooltip","./announcement-form"],function(e){"use strict";e.module("directives",["udTemplate","udTranslate"]).directive("announcementActivity",["$rootScope","Announcement",function(e,t){function n(){return e.announcementActivityDirectiveCompiled=!0,i}function i(e){e.formData={},e.formData.content=e.activity.action_object.content,e.state=e.state||{},e.state.isInitialized=!0,e.state.editorValueCollectedFn=function(n){var i=!!n.replace(/(<([^>]+)>)/gi,"");i&&e.state.isSubmitted===!0&&t.update(e.activity.action_object.id,{content:n}).success(function(t){e.activity.action_object.content=t.content}),e.state.isSubmitted=!1,e.state.isEditing=!1}}return{restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/announcement-activity.tpl.html",compile:n}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-form",["angular","ud-template","ud-translate","../common/forms/module","../common/ud-wysiwyg","ud.coursetakingtracker"],function(e,t,n,i,r,a){"use strict";e.module("directives",["udTemplate","udTranslate",i.name,r.name]).controller("DiscussionFormController",["$scope","gettextCatalog",function(e,t){e.state.isSubmitted=!1,e.state.isDropdownOpen=!1,e.state.textPlaceHolder=e.state.showFullView?t.getString("Type your discussion title here and any details below"):t.getString("Start a new discussion"),
e.resetCurrentLecture=function(){e.currentLecture.id=null,e.state.isDropdownOpen=!1},e.$watch("state.showFullView",function(t){e.state.isReset=!t}),e.setCurrentLecture=function(t){t.asset&&"Locked"==t.asset.type||(e.currentLecture||(e.currentLecture={}),e.currentLecture.id=t.id,e.currentLecture.lectureIndex=t.lectureIndex),e.state.isDropdownOpen=!1},e.submitForm=function(){e.state.isSubmitted=!0,e.sendGoogleAnalyticsEvent("post create")},e.state.editorValueCollectedFn=function(t){e.onSubmitContent({content:t}),e.state.isSubmitted=!1},e.sendGoogleAnalyticsEvent=function(t,n){n||(n=e.eventSourcePage),a.track(n,t)}}]).directive("discussionForm",[function(){return{controller:"DiscussionFormController",restrict:"E",templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-form.tpl.html",scope:{title:"=",content:"=",state:"=",currentLecture:"=",showLectureDropdown:"=",mode:"@",onSubmitContent:"&",eventSourcePage:"@"}}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-reply",["angular","ud-template","ud-translate","../common/forms/module","../common/ud-wysiwyg","../../services/Discussion"],function(e,t,n,i,r){"use strict";e.module("directives",["udTemplate","udTranslate",i.name,r.name]).controller("DiscussionReplyController",["$scope","Discussion","$rootScope","FormError",function(e,t,n,i){var r=null;e.formData={},e.isSubmitted=!1,e.isEditing=!1,e.formError=new i,e.editorValueCollectedFn=function(i){var a;e.isSubmitted===!0&&(a=e.formError.ignoreWarnings(i,r),t.updateDiscussionReply(e.reply.course_discussion.id,e.reply.id,n.courseId,i,a).then(function(t){var n=t.data;e.reply.body=n.body,e.isEditing=!1,e.formError.reset()},function(t){e.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.formError.getFeedback())})),e.isSubmitted=!1,r=i},e.onEdit=function(){e.formData.body=e.reply.body,e.isEditing=!0},e.isEditVisible=function(){return e.me.id==e.reply.user.id},e.isDeleteVisible=function(){return e.me.id==e.reply.user.id||n.isInstructor},e.onCancel=function(){e.isEditing=!1,e.formError.reset()},e.onDelete=function(){window.confirm("You are about to remove this reply. Are you sure you want to continue?")&&e.deleteReplyFn({replyId:e.reply.id})}}]).directive("discussionReply",[function(){return{controller:"DiscussionReplyController",restrict:"E",replace:!0,transclude:!0,scope:{reply:"=",me:"=",deleteReplyFn:"&"},templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-reply.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-replies",["angular","ud-template","ud-translate","./discussion-reply","../common/forms/module","../common/ud-wysiwyg","ud.coursetakingtracker","../../services/Activity","../../services/Discussion"],function(e,t,n,i,r,a,o){"use strict";e.module("directives",[t.name,n.name,r.name,a.name,"services"]).controller("DiscussionRepliesController",["$scope","$rootScope","$filter","Discussion","Activity","FormError",function(e,t,n,i,r,a){var s;e.formData={},e.formData.body="",e.formError=new a,e.state=e.state||{},e.state.isSubmitted=!1,e.state.isEditing=!1,e.state.isReset=!1,e.state.editorValueCollectedFn=function(a){o.track(e.eventSourcePage,"post reply create");var c,u=!n("isStrippedHTMLEmpty")(a);e.state.isReset=!1,u&&e.state.isSubmitted===!0&&(c=e.formError.ignoreWarnings(a,s),i.addDiscussionReply(e.activity.action_object.id,t.courseId,a,c).then(function(t){var n=t.data;e.activity.replies.splice(e.position,0,n),e.position=e.position+1,e.activity.is_following||(e.activity.is_following=!0,e.activity.num_follows=(e.activity.num_follows||0)+1,r.followActivity(e.activity).then(function(){},function(){e.activity.is_following=!1,e.activity.num_follows-=1})),e.formData.body="",e.formError.reset(),e.state.isReset=!0},function(t){e.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.formError.getFeedback())})),e.state.isSubmitted=!1,s=a},e.$watch("showFullView",function(t){t&&(e.state.isEditing=!0)}),e.deleteReply=function(n,r){i.deleteDiscussionReply(n,r,t.courseId).success(function(){for(var t in e.activity.replies)e.activity.replies[t].id==r&&e.activity.replies.splice(t,1)})}}]).directive("discussionReplies",["$filter","Discussion","$controller",function(){return{controller:"DiscussionRepliesController",restrict:"E",replace:!0,scope:{activity:"=",me:"=",showFullView:"=",position:"=",eventSourcePage:"@"},templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-replies.tpl.html"}}])}),define("course-taking-dashboard.app/../../directives/activity/discussion-activity",["angular","ud-template","ud-translate","../common/forms/module","ud.coursetakingtracker","../../services/Discussion","../../services/Utils","./activity-header","./activity-like","./user-tooltip","./discussion-form","./discussion-replies","ud.googleanalytics"],function(e,t,n,i,r){"use strict";e.module("directives",["udTemplate","udTranslate",i.name]).controller("DiscussionActivityController",["$scope","Discussion","$rootScope","FormError","Utils",function(e,t,n,i,a){var o;e.formData={},e.formData.title=e.activity.action_object.title,e.formData.body=e.activity.action_object.body,e.state=e.state||{},o=e.state.formError=new i,e.state.showFullView=!1,e.state.loadingReplies=!1,e.lastPageLoadedReplies=0,e.activity.replies=[],e.position=0;var s=null;e.onSubmitContent=function(n){if(e.state.isSubmitted===!0&&(a.htmlTagsHasContent(n)||n.match(/<img([\w\W])+?\>/))){var i=e.state.formError.ignoreWarnings(n,s),r={body:n,title:e.formData.title};t.update(e.activity.action_object.id,e.activity.target.id,r,i).then(function(t){var n=t.data;e.activity.action_object.title=n.title,e.activity.action_object.body=n.body,e.state.showFullView=!1,e.state.isEditing=!1,o.reset()},function(t){e.state.formError.processResponseError(t),UD.Utils.Feedback.fromObj(e.state.formError.getFeedback())})}s=e.formData.body=n},e.loadDiscussionReplies=function(){e.state.loadingReplies||(e.state.showFullView?(e.sendGoogleAnalyticsEvent("post reply hide"),e.state.showFullView=!1,e.position=0):(e.sendGoogleAnalyticsEvent("post reply"),0===e.position&&0===e.activity.replies.length?(e.state.loadingReplies=!0,t.getDiscussionReplies(e.activity.action_object.id,n.courseId,e.lastPageLoadedReplies+1,e.activity.action_object.num_replies).then(function(t){var n=t.data.results;e.activity.replies=e.activity.replies.concat(n),e.lastPageLoadedReplies++,e.position=e.position+e.getNumReplies(),e.state.showFullView=!0,e.state.loadingReplies=!1},function(t){e.state.loadingReplies=!1,e.state.formError.processResponseError(t.data),UD.Utils.Feedback.fromObj(e.state.formError.getFeedback()),e.retrieveLastSubmittedDiscussionDetails()})):(e.position=e.position+e.getNumReplies(),e.state.showFullView=!0)))},e.sendGoogleAnalyticsEvent=function(t){r.track(e.eventSourcePage,t)},e.getNumReplies=function(){return e.lastPageLoadedReplies>0?e.activity.replies.length:e.activity.action_object.num_replies},n.expandAll&&e.loadDiscussionReplies()}]).directive("discussionActivity",["$rootScope",function(e){function t(){return e.discussionActivityDirectiveCompiled=!0,n}function n(){}return{controller:"DiscussionActivityController",restrict:"E",replace:!0,transclude:!0,templateUrl:"/staticx/udemy/js/ng/directives/activity/discussion-activity.tpl.html",compile:t}}])}),define("course-taking-dashboard.app/../../directives-activity",["./directives/activity/activity","./directives/activity/activity-comments","./directives/activity/activity-follow","./directives/activity/activity-header","./directives/activity/activity-like","./directives/activity/announcement-activity","./directives/activity/announcement-form","./directives/activity/comment","./directives/activity/discussion-activity","./directives/activity/discussion-form","./directives/activity/discussion-replies","./directives/activity/discussion-reply","./directives/activity/user-tooltip"],function(){}),function(){function e(e){if(!e)return"";for(var t,i,r=[],a=0;a<e.length;a++)(i=e.charCodeAt(a))<384&&(t=String.fromCharCode(i),r.push(n[t]||t));return e=r.join(""),e=e.replace(/[^\w\s-]/g,"").trim().toLowerCase(),e.replace(/[-\s]+/g,"-")}var t=angular.module("slugifier",[]),n={" ":" ","¡":"!","¢":"c","£":"lb","¥":"yen","¦":"|","§":"SS","¨":'"',"©":"(c)","ª":"a","«":"<<","¬":"not","­":"-","®":"(R)","°":"^0","±":"+/-","²":"^2","³":"^3","´":"'","µ":"u","¶":"P","·":".","¸":",","¹":"^1","º":"o","»":">>","¼":" 1/4 ","½":" 1/2 ","¾":" 3/4 ","¿":"?","À":"`A","Á":"'A","Â":"^A","Ã":"~A","Ä":'"A',"Å":"A","Æ":"AE","Ç":"C","È":"`E","É":"'E","Ê":"^E","Ë":'"E',"Ì":"`I","Í":"'I","Î":"^I","Ï":'"I',"Ð":"D","Ñ":"~N","Ò":"`O","Ó":"'O","Ô":"^O","Õ":"~O","Ö":'"O',"×":"x","Ø":"O","Ù":"`U","Ú":"'U","Û":"^U","Ü":'"U',"Ý":"'Y","Þ":"Th","ß":"ss","à":"`a","á":"'a","â":"^a","ã":"~a","ä":'"a',"å":"a","æ":"ae","ç":"c","è":"`e","é":"'e","ê":"^e","ë":'"e',"ì":"`i","í":"'i","î":"^i","ï":'"i',"ð":"d","ñ":"~n","ò":"`o","ó":"'o","ô":"^o","õ":"~o","ö":'"o',"÷":":","ø":"o","ù":"`u","ú":"'u","û":"^u","ü":'"u',"ý":"'y","þ":"th","ÿ":'"y',"Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"'C","ć":"'c","Ĉ":"^C","ĉ":"^c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"^G","ĝ":"^g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"^H","ĥ":"^h","Ħ":"H","ħ":"h","Ĩ":"~I","ĩ":"~i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"^J","ĵ":"^j","Ķ":"K","ķ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"'N","ń":"'n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"'n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":'"O',"ő":'"o',"Œ":"OE","œ":"oe","Ŕ":"'R","ŕ":"'r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"'S","ś":"'s","Ŝ":"^S","ŝ":"^s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"~U","ũ":"~u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":'"U',"ű":'"u',"Ų":"U","ų":"u","Ŵ":"^W","ŵ":"^w","Ŷ":"^Y","ŷ":"^y","Ÿ":'"Y',"Ź":"'Z","ź":"'z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s"};t.factory("Slug",function(){return{slugify:e}}),t.directive("slug",["Slug",function(e){return{restrict:"E",scope:{to:"="},transclude:!0,replace:!0,template:"<div ng-transclude></div>",link:function(t,n,i){if(!i.from)throw"must set attribute 'from'";t.$parent.$watch(i.from,function(n){t.to=e.slugify(n)})}}}]),t.filter("slugify",function(e){return function(t){return e.slugify(t)}})}(),define("course-taking-dashboard.app/../../libs/angular-slugify",function(){}),define("course-taking-dashboard.app/../../libs/module",["angular","./angular-slugify","./angular-ui/keypress"],function(e){"use strict";return e.module("libs",["slugifier","ui.keypress"])}),function(e){define("angular-resource",["angular"],function(){return function(){!function(e,t,n){"use strict";function i(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var r=t.$$minErr("$resource"),a=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;t.module("ngResource",["ng"]).provider("$resource",function(){var e=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(o,s){function c(t,n){this.template=t,this.defaults=p({},e.defaults,n),this.urlParams={}}function u(g,h,v,y){function b(e,t){var i={};return t=p({},h,t),d(t,function(t,o){f(t)&&(t=t());var s;if(t&&t.charAt&&"@"==t.charAt(0)){s=e;var c=t.substr(1);if(null==c||""===c||"hasOwnProperty"===c||!a.test("."+c))throw r("badmember",c);for(var c=c.split("."),u=0,l=c.length;l>u&&s!==n;u++){var d=c[u];s=null!==s?s[d]:n}}else s=t;i[o]=s}),i}function w(e){return e.resource}function k(e){i(e||{},this)}var $=new c(g,y);return v=p({},e.defaults.actions,v),k.prototype.toJSON=function(){var e=p({},this);return delete e.$promise,delete e.$resolved,e},d(v,function(e,a){var c=/^(POST|PUT|PATCH)$/i.test(e.method);k[a]=function(u,g,h,v){var y,_,x,C={};switch(arguments.length){case 4:x=v,_=h;case 3:case 2:if(!f(g)){C=u,y=g,_=h;break}if(f(u)){_=u,x=g;break}_=g,x=h;case 1:f(u)?_=u:c?y=u:C=u;break;case 0:break;default:throw r("badargs",arguments.length)}var D=this instanceof k,T=D?y:e.isArray?[]:new k(y),A={},S=e.interceptor&&e.interceptor.response||w,E=e.interceptor&&e.interceptor.responseError||n;return d(e,function(e,t){"params"!=t&&"isArray"!=t&&"interceptor"!=t&&(A[t]=m(e))}),c&&(A.data=y),$.setUrlParams(A,p({},b(y,e.params||{}),C),e.url),C=o(A).then(function(n){var o=n.data,s=T.$promise;if(o){if(t.isArray(o)!==!!e.isArray)throw r("badcfg",a,e.isArray?"array":"object",t.isArray(o)?"array":"object");e.isArray?(T.length=0,d(o,function(e){"object"==typeof e?T.push(new k(e)):T.push(e)})):(i(o,T),T.$promise=s)}return T.$resolved=!0,n.resource=T,n},function(e){return T.$resolved=!0,(x||l)(e),s.reject(e)}),C=C.then(function(e){var t=S(e);return(_||l)(t,e.headers),t},E),D?C:(T.$promise=C,T.$resolved=!1,T)},k.prototype["$"+a]=function(e,t,n){return f(e)&&(n=t,t=e,e={}),e=k[a].call(this,e,this,t,n),e.$promise||e}}),k.bind=function(e){return u(g,p({},h,e),v)},k}var l=t.noop,d=t.forEach,p=t.extend,m=t.copy,f=t.isFunction;return c.prototype={setUrlParams:function(e,n,i){var a,o,s=this,c=i||s.template,u=s.urlParams={};d(c.split(/\W/),function(e){if("hasOwnProperty"===e)throw r("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(c)&&(u[e]=!0)}),c=c.replace(/\\:/g,":"),n=n||{},d(s.urlParams,function(e,i){a=n.hasOwnProperty(i)?n[i]:s.defaults[i],t.isDefined(a)&&null!==a?(o=encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"%20").replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),c=c.replace(new RegExp(":"+i+"(\\W|$)","g"),function(e,t){return o+t})):c=c.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/"),c=c.replace(/\/\.(?=\w+($|\?))/,"."),e.url=c.replace(/\/\\\./,"/."),d(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},u}]})}(window,window.angular)}.apply(e,arguments)})}(this),define("ng-root/services/user-resources",["angular","ud-me","angular-resource"],function(e,t){"use strict";function n(e){return e("/api-2.0/users/me/analytics/:id")}function i(e){return e("/api-2.0/users/me/taught-courses")}function r(n){return n("/api-2.0/users/me/settings",{},{save:{method:"POST",transformResponse:function(n){n=e.fromJson(n);var i={};return i[n.setting]=n.value,e.extend(t.settings,i),n}}})}function a(n){return n("/api-2.0/users/me/course-beta-settings/:id",{},{save:{method:"POST",transformResponse:function(n){return n=e.fromJson(n),t.settings.course_beta_opt_in=n.value,n}}})}return e.module("services.userResources",["ngResource"]).factory("UserAnalytics",["$resource",n]).factory("UserTaughtCourses",["$resource",i]).factory("UserSettings",["$resource",r]).factory("CourseBetaSettings",["$resource",a])}),define("ng-root/services/course-resources",["angular","angular-resource"],function(e){"use strict";return e.module("services.courseResources",["ngResource"]).factory("Course",["$resource",function(e){return e("/api-2.0/courses/:courseId")}]).factory("SubscribedCourse",["$resource",function(e){return e("/api-2.0/users/me/subscribed-courses/:courseId",null,{update:{method:"PATCH"}})}]).factory("CourseSpecificCourseReview",["$resource",function(e){return e("/api-2.0/courses/:courseId/reviews/:reviewId",null,{update:{method:"PATCH"}})}]).factory("CourseReview",["$resource",function(e){return e("/api-2.0/course-reviews/",null,{})}]).factory("CourseSetting",["$resource",function(t){return t("/api-2.0/courses/:courseId/settings",{},{get:{method:"GET",transformResponse:function(t,n,i){return 200!==i?[]:(t=e.fromJson(t),t.settings=_.object(_.map(t.results,function(e,t){return[e.setting,e.value]})),t)}}})}]).factory("CourseCurriculum",["$resource",function(e){return e("/api-2.0/courses/:courseId/:curriculum",null,{instructorCurriculumItems:{method:"GET",params:{curriculum:"instructor-curriculum-items"}},subscriberCurriculumItems:{method:"GET",params:{curriculum:"subscriber-curriculum-items"}}})}]).factory("CourseNote",["$resource",function(e){return e("/api-2.0/users/me/subscribed-courses/:courseId/notes",null,{})}]).factory("UserCourseFeedback",["$resource",function(e){return e("/api-2.0/users/me/course-feedbacks/:feedbackId",null,{update:{method:"PUT"}})}]).factory("CourseCertificate",["$resource",function(e){return e("/api-2.0/users/me/certificates")}]).factory("CourseAnnouncement",["$resource",function(e){return e("/api-2.0/announcements/")}]).factory("CourseSearchableActivity",["$resource",function(e){return e("/api-2.0/courses/:courseId/searchable-activities")}]).factory("CourseDeprecated",["$http",function(e){var t={};return t.getProgress=function(t){return e.get("/api-1.1/courses/"+t+"/progress")},t}]).factory("CourseVisibleInstructors",["$resource",function(e){return e("/api-2.0/courses/:courseId/visible-instructors/")}])}),define("course-taking-dashboard.app/beta-opt-in/beta-opt-in-service",["angular","ng-root/services/user-resources","ng-root/services/course-resources","ud-config","ud-me"],function(e,t,n,i,r){"use strict";function a(e,t,n,a){var o=this;o.getBeta=function(){return"opt-in"===r.settings.course_beta_opt_in},o.setBeta=function(e){return r.settings.course_beta_opt_in=e,n.save({},{value:e})},o.isUserBetaOptTmp=function(){return"opt-tmp"===r.settings.course_beta_opt_in},o.isCourseInBetaProgram=function(e){return a.get({courseId:e,setting:"beta_opt_in"}).$promise.then(function(e){return i.features.course_taking.beta_opt_in&&e.results.length>0&&"on"===e.results[0].value},function(){return!1})},o.canAccessV4=function(e,n,a){var s=t.defer();if(i.features.course_taking.beta_opt_in)if(n)s.resolve(!1);else if(-1!==["instructor_v4","student_v4"].indexOf(a))s.resolve(!0);else if(-1!==["instructor","student"].indexOf(a))s.resolve(!1);else if(r.settings.can_override_course_beta_opt_in)s.resolve(o.getBeta());else{if(this.getBeta())return this.isCourseInBetaProgram(e);s.resolve(!1)}else s.resolve(!1);return s.promise},o.showQualarooPopup=function(e,n,a){var o=t.defer();if(i.features.course_taking.beta_opt_in)if(n||a)o.resolve(!1);else if(r.settings.course_beta_opt_in){if(!r.settings.can_override_course_beta_opt_in)return this.isCourseInBetaProgram(e);o.resolve(!0)}else o.resolve(!1);else o.resolve(!1);return o.promise},o.toOldDashboard=function(t,n){n?e.location.href=t+"learn/#/"+n.type+"/"+n.id:e.location.href=t+"learn/#/"},o.toNewDashboard=function(t,n){n?e.location.href=t+"learn/v4/"+n.type+"/"+n.id:e.location.href=t+"learn/v4/"},o.switchOn=function(e,t){o.setBeta("opt-in").$promise.then(function(){o.toNewDashboard(e,t)},function(){o.toNewDashboard(e,t)})},o.switchOff=function(e,t){o.setBeta("opt-out").$promise.then(function(){o.toOldDashboard(e,t)},function(){o.toOldDashboard(e,t)})},o.switchOffTmp=function(e,t){o.setBeta("opt-tmp").$promise.then(function(){o.toOldDashboard(e,t)},function(){o.toOldDashboard(e,t)})}}return e.module("apps.courseTakingDashboard.betaOptIn.betaOptInService",[t.name,n.name]).service("betaOptInService",["$window","$q","CourseBetaSettings","CourseSetting",a])}),define("course-taking-dashboard.app/beta-opt-in/qualaroo-popup",["angular","ud-template","./beta-opt-in-service","ui-bootstrap"],function(e,t,n,i){"use strict";function r(){function e(e,t,n){e.open=e.open||!1,e.show=!0,e.userBeta=n.getBeta()||n.isUserBetaOptTmp(),_kiq.push(["eventHandler","show",function(e,t){setTimeout(function(){_kiq.$el=$("body").children("div").last().addClass("qualaroo-container show-qualaroo-popup");var e=_kiq.$el.children().eq(2);0===e.children().length&&e.hide(),setTimeout(function(){_kiq.$el.addClass("open"),_kiq.push(["maximizeNudge"])},1)},1)}]),e.switchOnBeta=function(){e.userBeta=!0,e.curriculumItem?n.switchOn(e.courseUrl,e.curriculumItem):(e.closeModal(),n.setBeta("opt-in").$promise.then(function(){e.open=!0,e.show=!0}))},e.switchOffBeta=function(){e.open=!1,e.show=!1,_kiq.push(["set",{showNudge141591:!0}]),_kiq.push(["eventHandler","close",_.once(function(){_kiq.push(["set",{showNudge141591:!1}]),e.$apply(function(){e.userBeta=!1,e.show=!0,n.switchOff(e.courseUrl,e.curriculumItem)})})])},e.sendFeedback=function(){e.open=!1,e.show=!1,_kiq.push(["set",{showNudge141590:!0}]),_kiq.push(["eventHandler","close",_.once(function(){_kiq.push(["set",{showNudge141590:!1}]),e.$apply(function(){e.show=!0})})])},e.learnMore=function(){e.show=!1,e.modal=t.open({scope:e,keyboard:!1,windowClass:"full-overlay",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/beta-opt-in/beta-overlay.html"})},e.notNow=function(){e.show=!1},e.closeModal=function(){e.modal&&e.modal.close()}}return e.$inject=["$scope","$modal","betaOptInService"],{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/beta-opt-in/qualaroo-popup.html",scope:{open:"=?",show:"=?",courseUrl:"=",curriculumItem:"=?"},controller:e}}var a=e.module("apps.courseTakingDashboard.betaOptIn",[t.name,n.name,"ui.bootstrap"]).directive("qualarooPopup",r);return a}),define("course-taking-dashboard.app/beta-opt-in/module",["angular","ud-core","./qualaroo-popup"],function(e,t,n){"use strict";var i=e.module("apps.courseTakingDashboard.betaOptIn",[t.name,n.name]);return i}),define("course-taking-dashboard.app/dashboard/course-taking-dashboard-controller",["angular","jquery","ud-config","ud-link","ud.coursetakingtracker","../beta-opt-in/module","../../../services/User"],function(e,t,n,i,r,a){"use strict";function o(e,a,o,s,c,u,l){a.init=function(s,u,l,d,p,m,f,g,h,v,y,b,w){r.setUserType(d?"Instructor":"Student"),r.setCourseId(s),a.$on("courseLoaded",function(){r.setCourseType(e.course.is_paid?"Paid":"Free")}),r.setCTVersion(r.BASE),e.courseId=s,e.publishedTitle=u,e.course={},e.me=UD.me,e.report_abuse=n.features.report_abuse,e.studentCanUnenroll=n.features.course.students.unenroll,e.isSocialSharingEnabled=n.brand.is_social_sharing_enabled,e.courseIsArchivedByStudent=l,e.isInstructor=d,e.instructorPreviewMode=p,e.isVisibleInstructor=m,e.courseWasPurchasedByStudent=f,e.courseIsRefundable=g,e.isPreviewer=h,e.courseHasCertificate=y,e.timelineRendered=!1,e.shouldStick=!1,e.areCheckpointsEnabled=v,e.isNewDiscussionsAllowed=b,e.isNewAnnouncementsAllowed=w,e.refundUrl=i.to("support","contact"),e.canAccessV4=!1,e.showQualarooPopup=!1,t(window).on("updateCourseProgress",function(){c.loadCourseProgress(e.courseId),v&&c.loadCurriculum(e.courseId,e.instructorPreviewMode)}),t(window).on("loadCourseFeedbacks",function(){c.loadCourseFeedbacks(e.courseId)}),t(window).on("timelineRendered",function(){e.timelineRendered=!0}),t(window).on("changeRouteFromOutside",function(e,t){o.path(t),a.$apply()}),a.$on("$routeChangeSuccess",function(e,t,n){n&&"/"!==n.redirectTo||!t.pageName||r.track("Direct",t.pageName+" visit")}),a.$on("$destroy",function(){t(window).off("updateCourseProgress"),t(window).off("courseProgressUpdated"),t(window).off("loadCourseFeedbacks"),t(window).off("courseFeedbacksLoaded")})};var d=!1;a.$on("loadDashboard",function(){d||(d=!0,c.loadCourse(e.courseId),c.loadCurriculum(e.courseId,e.instructorPreviewMode),c.loadCourseProgress(e.courseId),c.loadCourseFeedbacks(e.courseId),u.canAccessV4(e.courseId,e.isPreviewer,e.instructorPreviewMode).then(function(t){e.canAccessV4=t}),u.showQualarooPopup(e.courseId,e.isPreviewer,e.instructorPreviewMode).then(function(t){e.showQualarooPopup=t}),e.courseHasCertificate&&(c.getCertificateOfUser(e.courseId,e.me.id),t(window).on("courseProgressUpdated",function(e){100===e.courseProgress.completion_ratio&&a.checkCertificate()})))}),a.checkCertificate=function(){e.certificate||e.certificateCreationTriggered?e.certificate&&e.certificate.is_ready||(c.getCertificateOfUser(e.courseId,e.me.id),s(a.checkCertificate,15e3,!1)):(c.createCertificate(e.courseId),s(a.checkCertificate,15e3,!1))},a.getCertificateStatusClass=function(){return e.isPreviewer?"certificate-not-ready":e.courseHasCertificate&&e.certificate?e.certificate.is_ready?"certificate-ready":"certificate-in-progress":"certificate-not-ready"},e.getAfterTime=function(e){return e&&0!==e.length?e[0].timestamp:null},e.getBeforeTime=function(e){return e&&0!==e.length?e[e.length-1].timestamp:null},a.unsubscribe=function(t){r.track("Dashboard","settings unenroll"),t.preventDefault(),confirm(gettext("By selecting this option, you will be permanently removed from the course and will no longer have access to its contents. Are you sure?"))&&c.unsubscribe(e.courseId,function(){window.location.href="/home/my-courses/learning"},function(){alert(gettext("Oops, something went wrong! Please try again later."))})},a.archiveCourse=function(t){l.archiveCourse(e.courseId).success(function(e){window.location="/home/my-courses/learning/?isArchived"})},a.getWatchCount=function(e,t){if(void 0===t&&(t={}),!e||void 0!==t[e.$id])return 0;var n=0;return e.$$watchers&&(n=e.$$watchers.length),t[e.$id]=n,n+=a.getWatchCount(e.$$childHead,t),n+=a.getWatchCount(e.$$nextSibling,t)},a.onCertificateClick=function(){e.certificate&&e.certificate.long_url&&r.track("Dashboard","certificate visit")}}var s=e.module("apps.courseTakingDashboard.dashboard.courseTakingDashboardController",[a.name]).controller("CourseTakingDashboardController",o);return o.$inject=["$rootScope","$scope","$location","$timeout","CourseTakingDashboardService","betaOptInService","User"],s}),define("course-taking-dashboard.app/dashboard/course-taking-dashboard-service",["angular","jquery","ud-config","ng-root/services/course-resources","../../../services"],function(e,t,n,i){"use strict";function r(i,r,a,o,s,c,u,l){var d=function(t){e.extend(this,t)};return d.initLectureTaking=function(e,n){d.resetLectureTaking(),i.curriculumObject={type:n,id:e},i.objectType=n,i.lectureId=e,i.lectureTakingPageActive=!0,i.certificateCreationTriggered=!1,"lecture"===i.objectType&&d.loadLectureDiscussions(),t(window).trigger("initLectureTakingFinished")},d.resetLectureTaking=function(){i.curriculumObject=null,i.objectType=null,i.lectureId=null,i.discussionActivities=[],i.loadingActivities=!1,i.reachedTheEndOfFeed=!1,i.pageNum=1,i.lectureTakingPageActive=!1},d.loadLectureDiscussions=function(){i.loadingActivities=!0,u.getLectureDiscussions(i.getBeforeTime(i.discussionActivities),null,i.lectureId).success(function(e){i.loadingActivities=!1,i.reachedTheEndOfFeed=!e.next,i.discussionActivities=i.discussionActivities.concat(e.results),i.pageNum++}).error(function(){i.loadingActivities=!1}),i.$$phase||i.$apply()},i.$on("discussionActivities:addActivity",function(e,t){i.discussionActivities||(i.discussionActivities=[]),Array.prototype.unshift.apply(i.discussionActivities,t)}),d.loadCourse=function(e){r.get({courseId:e,"fields[course]":"@default,num_subscribers,avg_rating,num_reviews,num_invitation_requests,can_edit,gift_url,is_private,features,notification_settings,welcome_message,quality_review_process,is_organization_only","fields[quality_review_process]":"id,","fields[user]":"@default,num_visible_taught_courses,num_visible_subscribed_courses"}).$promise.then(function(e){d.initializeCourseData(e),e.show_discussions=n.brand.is_discussions_enabled&&e.features.discussions_view,e.show_reviews=n.brand.is_add_reviews_enabled&&!i.isPreviewer&&e.features.reviews_view,e.show_students=n.brand.is_student_list_at_course_taking_enabled&&e.features.students_view,e.show_announcement_comments=n.brand.is_feed_commenting_enabled&&e.features.announcements_comments_view,i.course=e,i.$broadcast("courseLoaded")}),i.$$phase||i.$apply()},d.initializeCourseData=function(e){e.has_at_least_one_visible_instructor=e.visible_instructors.length>=1,e.has_single_instructor=1===e.visible_instructors.length,e.has_at_least_two_instructors=e.visible_instructors.length>=2,e.has_exactly_three_instructors=3===e.visible_instructors.length,e.has_more_than_three_instructors=e.visible_instructors.length>3,e.number_of_instructors=e.visible_instructors.length},d.loadCurriculum=function(e,n){var r="instructor"===n?a.instructorCurriculumItems:a.subscriberCurriculumItems;r({page_size:9999,courseId:e,"fields[lecture]":"@default,asset,content_summary,num_discussions,num_external_link_assets,num_notes,num_source_code_assets,object_index,url","fields[quiz]":"@default,content_summary,object_index,url","fields[chapter]":"@default,object_index","fields[asset]":"@default"}).$promise.then(function(e){var n=e.results;i.curriculum=n;var r=d.loadChaptersAndLectures(n);i.chaptersAndLectures=r;var a=t.Event("curriculumLoaded");a.curriculum=n,t(window).trigger(a)}),i.$$phase||i.$apply()},d.loadChaptersAndLectures=function(e){var t=[],n=0;for(var i in e){var r=e[i];"chapter"===r._class&&n++,"undefined"==typeof t[n]&&(t[n]=[]),"undefined"==typeof t[n].lectures&&(t[n].lectures=[]),"undefined"==typeof t[n].chapter&&(t[n].chapter={}),"chapter"===r._class?t[n].chapter=r:("lecture"===r._class||"quiz"===r._class)&&t[n].lectures.push(r)}return t},d.loadCourseProgress=function(n){c.getProgress(n).success(function(n){"undefined"==typeof i.courseProgress&&(i.courseProgress={}),e.copy(n,i.courseProgress);var r=t.Event("courseProgressUpdated");r.courseProgress=n,t(window).trigger(r)}),i.$$phase||i.$apply()},d.getCertificateOfUser=function(t){o.get({course:t},function(t){t.results.length>0&&("undefined"==typeof i.certificate&&(i.certificate={}),e.copy(t.results[0],i.certificate))}),i.$$phase||i.$apply()},d.createCertificate=function(e){o.save({},{course_id:e}),i.certificateCreationTriggered=!0,i.$$phase||i.$apply()},d.isActive=function(e){return parseInt(e.id)===parseInt(i.lectureId)&&e._class===i.objectType},d.isLocked=function(e){if(!i.areCheckpointsEnabled||i.isInstructor)return!1;var t,n,r=i.curriculum,a=null;for(n in r){if(t=r[n],t.id==e.id&&t._class==e._class)break;"curriculum_checkpoint"==t._class&&(a=t)}if(!a)return!1;for(n in r){if(t=r[n],t.id==a.id&&t._class==a._class)break;if(!d.isCompleted(t))return!0}return!1},d.isCompleted=function(e){switch(e._class){case"lecture":try{return"completed"===i.courseProgress.lectures_progress[e.id].status}catch(t){return!1}case"quiz":try{return"completed"===i.courseProgress.quiz_progress[e.id].status}catch(t){return!1}case"curriculum_checkpoint":return!0;case"chapter":return!0;default:return!1}},d.isStarted=function(e){switch(e._class){case"lecture":try{return"started"===i.courseProgress.lectures_progress[e.id].status}catch(t){return!1}case"quiz":try{return"started"===i.courseProgress.quiz_progress[e.id].status}catch(t){return!1}case"curriculum_checkpoint":return!0;case"chapter":return!0;default:return!1}},d.completionRatio=function(e){switch(e._class){case"lecture":try{return i.courseProgress.lectures_progress[e.id].completionRatio}catch(t){return 0}case"quiz":try{return i.courseProgress.quiz_progress[e.id].completionRatio}catch(t){return 0}case"curriculum_checkpoint":return 100;case"chapter":return 100;default:return 0}},d.loadCourseFeedbacks=function(n){s.get({course:n},function(n){"undefined"==typeof i.courseFeedbacks&&(i.courseFeedbacks={}),e.copy(n,i.courseFeedbacks);var r=t.Event("courseFeedbacksLoaded");r.courseFeedbacks=n,t(window).trigger(r)}),i.$$phase||i.$apply()},d.unsubscribe=function(e,t,n){return l["delete"]({courseId:e},t,n)},i.courseTakingDashboardService=d,d}var a=e.module("apps.courseTakingDashboard.dashboard.courseTakingDashboardService",[i.name,"services"]).factory("CourseTakingDashboardService",r);return r.$inject=["$rootScope","Course","CourseCurriculum","CourseCertificate","UserCourseFeedback","CourseDeprecated","Activity","SubscribedCourse"],a}),define("course-taking-dashboard.app/dashboard/module",["angular","./course-taking-dashboard-controller","./course-taking-dashboard-service"],function(e,t,n){"use strict";return e.module("apps.courseTakingDashboard.dashboard",[t.name,n.name])}),define("course-taking-dashboard.app/free-preview/free-preview-service",["angular"],function(e){
"use strict";function t(e){this.getPreviewCreatedTime=function(t){return e.get("/api-2.0/users/me/course-previews/?course="+t)},this.getCourse=function(t,n,i){return n=n||"@default",e.get("/api-1.1/courses/"+t+"?fields[user]=@min,jobTitle,numVisibleTaughtCourses,numVisibleSubscribedCourses&fields[course]="+n,{params:i})}}var n=e.module("apps.courseTakingDashboard.freePreview.freePreviewService",[]).service("freePreviewService",t);return t.$inject=["$http"],n}),define("course-taking-dashboard.app/free-preview/free-preview-controller",["angular","./free-preview-service","ud-translate"],function(e,t,n){"use strict";function i(e,t,n,i,r,a,o,s){t.secondsRemaining=300;var c=function(){var e={};if(!n.location.search)return e;for(var t=n.location.search.replace(/(^\?)/,"").split("&"),i=0;i<t.length;i++){var r=t[i].split("=");e[r[0]]=r[1]}return e}();o.getCourse(t.courseId,"@default,purchaseInfo",c).then(function(e){t.course=e.data}),t.$watch(function(){return e.objectType},function(){var t=i.find("body");return"lecture"==e.objectType?void t.addClass("preview"):void t.removeClass("preview")}),t.$on("timer-stopped",function(e,t){u()});var u=function(){r.path("/"),t.previewEndPopup(),t.getRemainingPreviewSeconds()};t.getRemainingPreviewSeconds=function(){var n=o.getPreviewCreatedTime(t.courseId);n.then(function(n){t.$broadcast("timer-set-countdown",n.data.results[0].remaining_seconds),a(function(){t.showTimer=!0,e.shouldStick=!0},1e3)})},t.generatePopupUrl=function(){return"/staticx/udemy/js/ng/apps/course-taking-dashboard/free-preview/course-incentives.html"},t.previewEndPopup=function(){t.hideTimer=!0,i.find("body").addClass("oh")},t.reloadPage=function(){n.location.reload()}}var r=e.module("apps.courseTakingDashboard.freePreview.freePreviewController",[t.name,n.name]).controller("FreePreviewController",i);return i.$inject=["$rootScope","$scope","$window","$document","$location","$timeout","freePreviewService","gettextCatalog"],r}),define("course-taking-dashboard.app/free-preview/module",["angular","./free-preview-controller"],function(e,t){"use strict";return e.module("apps.courseTakingDashboard.freePreview",[t.name])}),angular.module("services").factory("Activity",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.defaultParams={"fields[user]":"url,image_50x50,title,job_title","fields[course]":"id","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@default,user,lecture,num_replies","fields[activity_comment]":"@default,-action","fields[lecture]":"@min,object_index,url"},t.getAll=function(t,n){var i={};return n&&n.length&&(i.id_in=n.join(",")),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,i)})},t.get=function(t,n){var i={};return e({url:"/api-2.0/courses/"+t+"/activities/"+n,method:"GET",params:angular.extend({},this.defaultParams,i)})},t.getAnnouncements=function(t,n,i){var r={action_object_object_type:"course_announcement"};return n&&(r.timestamp__lt=n),i&&(r.timestamp__gt=i),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.disableWelcomeMessageForCourse=function(t){return e({url:"/api-2.0/users/me/settings/",method:"POST",data:{setting:"welcomeMessageVisible",course:t,value:"off"}})},t.getDiscussions=function(t,n,i){var r={action_object_object_type:"course_discussion"};return n&&(r.timestamp__lt=n),i&&(r.timestamp__gt=i),e({url:"/api-2.0/courses/"+t+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.getLectureDiscussions=function(t,n,i){var r={action_object_object_type:"course_discussion"};return t&&(r.timestamp__lt=t),n&&(r.timestamp__gt=n),e({url:"/api-2.0/lectures/"+i+"/activities",method:"GET",params:angular.extend({},this.defaultParams,r)})},t.deleteActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id,method:"DELETE"})},t.createComment=function(t,n,i){return e({url:"/api-2.0/courses/"+t+"/activities/"+n+"/comments",method:"POST",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:i}})},t.updateComment=function(t,n,i,r){return e({url:"/api-2.0/courses/"+t+"/activities/"+n+"/comments/"+i,method:"PUT",params:{"fields[activity_comment]":"@default,-action","fields[user]":"url,image_50x50,title"},data:{body:r}})},t.deleteComment=function(t,n,i){return e({url:"/api-2.0/courses/"+t+"/activities/"+n+"/comments/"+i,method:"DELETE"})},t.likeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers",method:"POST"})},t.unlikeActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/likers/"+UD.me.id,method:"DELETE"})},t.followActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers",method:"POST"})},t.unfollowActivity=function(t){return e({url:"/api-2.0/courses/"+t.target.id+"/activities/"+t.id+"/followers/"+UD.me.id,method:"DELETE"})},t}]),define("ng-root/services/Activity",function(){}),angular.module("services").factory("Announcement",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};return t.update=function(t,n){return e({url:"/api-2.0/announcements/"+t,method:"PATCH",data:n})},t}]),define("ng-root/services/Announcement",function(){}),angular.module("services").factory("Discussion",["$http","Utils",function(e,t){"use strict";var n=function(e){angular.extend(this,e)};return n.createDiscussion=function(t,n,i,r,a,o){return e({url:"/api-2.0/courses/"+t+"/discussions/",method:"POST",data:{lecture:n,position:Math.floor(i),body:r,title:a,ignore_warnings:"boolean"==typeof o&&o?1:0}})},n.update=function(n,i,r,a){return r.ignore_warnings=t.convertBoolToInt(a),e({url:"/api-2.0/courses/"+i+"/discussions/"+n,method:"PATCH",data:r})},n.deleteDiscussionReply=function(t,n,i){return e({url:"/api-2.0/courses/"+i+"/discussions/"+t+"/replies/"+n,method:"DELETE"})},n.addDiscussionReply=function(n,i,r,a){return e({url:"/api-2.0/courses/"+i+"/discussions/"+n+"/replies",method:"POST",data:{body:r,ignore_warnings:t.convertBoolToInt(a)},params:{"fields[course_discussion_reply]":"@default,user,course_discussion","fields[user]":"@min,image_50x50,url"}})},n.updateDiscussionReply=function(n,i,r,a,o){return e({url:"/api-2.0/courses/"+r+"/discussions/"+n+"/replies/"+i,method:"PUT",data:{body:a,ignore_warnings:t.convertBoolToInt(o)},params:{"fields[course_discussion_reply]":"@default,user,course_discussion","fields[user]":"@min,image_50x50,url"}})},n.getDiscussionReplies=function(t,n,i,r){return e({url:"/api-2.0/courses/"+n+"/discussions/"+t+"/replies/",method:"GET",params:{p:i,page_size:r,"fields[course_discussion_reply]":"@default,user,course_discussion","fields[user]":"@min,image_50x50,url",ordering:"created"}})},n}]),define("ng-root/services/Discussion",function(){}),angular.module("services").factory("User",["$http",function(e){"use strict";var t=function(e){angular.extend(this,e)};t.getMe=function(){return UD.me},t.getAllowedAnnouncementsCount=function(t){return e.get("/api-2.0/courses/"+t+"/allowed-announcements/")};var n={"fields[course]":"@min,visible_instructors,image_480x270,favorite_time,archive_time,completion_ratio,features","fields[user]":"@min,job_title"};return t.getTakingCourses=function(t,i,r){var a={page:t,page_size:i};return angular.extend(a,n),r&&(a.search=r),e.get("/api-2.0/users/me/subscribed-courses",{params:a})},t.getWishlistedCourses=function(t,n,i,r){var a="@default,avg_rating,num_reviews,is_wishlisted,num_subscribers,is_in_content_subscription,promotion_price",o={page:t,page_size:n,include_spam:"true","fields[course]":a,"fields[user]":"@min"};return angular.extend(o,i),r&&(o.search=r),e.get("/api-2.0/users/me/wishlisted-courses",{params:o})},t.getArchivedCourses=function(t,i){var r={page:t,page_size:i};return angular.extend(r,n),e.get("/api-2.0/users/me/archived-courses",{params:r})},t.getFavoritedCourses=function(t,i){var r={page:t,page_size:i};return angular.extend(r,n),e.get("/api-2.0/users/me/favorited-courses",{params:r})},t.getSubscribedCoursesByProgress=function(t,i,r,a){var o={page:t,page_size:i,min_progress:r,max_progress:a};return angular.extend(o,n),e.get("/api-2.0/users/me/subscribed-courses",{params:o})},t.favoriteCourse=function(t){return e.post("/api-2.0/users/me/favorited-courses",{course_id:t},{params:n})},t.unfavoriteCourse=function(t){return e["delete"]("/api-2.0/users/me/favorited-courses/"+t)},t.archiveCourse=function(t){return e.post("/api-2.0/users/me/archived-courses",{course_id:t},{params:n})},t.unarchiveCourse=function(t){return e["delete"]("/api-2.0/users/me/archived-courses/"+t)},t.removeCourseFromWishlist=function(t){return e["delete"]("/api-2.0/users/me/wishlisted-courses/"+t)},t.addCourseToWishlist=function(t){return e.post("/api-2.0/users/me/wishlisted-courses/",{course_id:t})},t.is_anonymous=function(){var e=t.getMe();return"undefined"!=typeof e&&"undefined"==typeof e.id},t}]),define("ng-root/services/User",function(){}),angular.module("services").factory("Scroll",function(){"use strict";var e=function(e){angular.extend(this,e)};return e.setLoadMoreFunction=function(t){e.loadMoreFunction=t},e.loadMore=function(){e.loadMoreFunction&&e.loadMoreFunction()},e}),define("ng-root/services/Scroll",function(){}),define("ng-root/services",["./services/Activity","./services/Announcement","./services/Discussion","./services/User","./services/Scroll","./services/Utils"],function(){}),define("course-taking-dashboard.app/activities/discussion/discussion-activities",["jquery","angular","ng-root/services/course-resources","ud.coursetakingtracker","ng-root/services"],function(e,t,n,i){"use strict";function r(n,r,a,o,s,c,u,l){function d(){r.activities=[],h.page=1}function p(){h.page+=1,r.searchActivity()}function m(){var e=l.search().unanswered;return a.convertParamToBool(e)}function f(){n.course.show_discussions||l.path("/announcements")}r.$emit("loadDashboard");var g={pageSize:12,page:1},h=t.extend({},g);r.me=c.getMe(),r.activities=[],r.loadingActivities=!1,r.reachedTheEndOfFeed=!1,r.currentTab="discussion",r.search={isDisabled:!1,value:null,unansweredChecked:m()},u.resetLectureTaking(),e(window).trigger("showDashboard"),r.$on("$routeChangeStart",function(){r.introObj&&(r.introObj.exit(),r.introObj=null)}),n.course.id?f():r.$on("courseLoaded",f),r.$on("discussionActivities:addActivity",function(e,t){e.stopPropagation(),t.length&&(r.search.value?(r.search.value="",d(),r.loadNextPage()):Array.prototype.unshift.apply(r.activities,t))}),r.$watch("[search.value, search.unansweredChecked]",function(e){d(),e[0]||e[1]?r.searchActivity():(r.setWelcomeMessage(),r.loadNextPage())}),r.searchActivity=function(){r.loadingActivities=!0;var e={courseId:n.courseId,page_size:h.pageSize,page:h.page,action_object_class:"course_discussion",ordering:"latest","fields[user]":"url,image_50x50,title,job_title,num_visible_taught_courses,num_visible_subscribed_courses","fields[actstream_action]":"@default,timestamp,num_likes,is_liked,num_follows,is_following,comments,url","fields[course_discussion]":"@default,lecture,num_replies","fields[activity_comment]":"@default,-action","fields[lecture]":"@min,object_index,url"};r.search.value&&(e.search=r.search.value),r.search.unansweredChecked&&(e.is_answered=0),s.get(e,function(e){h.total=e.count,r.loadingActivities=!1,h.page<=1&&(r.activities=[]),r.activities=r.activities.concat(e.results),r.reachedTheEndOfFeed=!e.next})},r.hasNoSearchResults=function(){return!r.loadingActivities&&!r.activities.length&&!!r.search.value},r.hasNoPageResults=function(){return!r.loadingActivities&&!r.activities.length&&!r.search.value},r.loadMore=function(){i.track("Dashboard","post load"),r.loadingActivities||r.reachedTheEndOfFeed||(r.search.value||r.search.unansweredChecked?p():r.loadNextPage())},r.loadNextPage=function(){return r.loadPage(h.page++)},r.loadPage=function(e){return r.loadingActivities=!0,o.getDiscussions(n.courseId,n.getBeforeTime(r.activities),null).then(function(t){1>=e&&(r.search.isDisabled=!t.data.count,r.activities=[]),r.loadingActivities=!1,r.reachedTheEndOfFeed=!t.data.next,r.activities=r.activities.concat(t.data.results)})},r.setWelcomeMessage=function(){if(r.welcomeMessage=n.course.welcome_message,r.welcomeMessage){r.welcomeMessage.expandLimit=1250+r.welcomeMessage.content.substring(1250).indexOf(" ");var e=r.me.title.split(" ");1===e.length?r.userFirstName=e[0]:r.userFirstName=e.slice(0,-1).join(" ")}},r.closeWelcomeMessage=function(){o.disableWelcomeMessageForCourse(n.courseId),r.welcomeMessage=null}}var a=t.module("apps.courseTakingDashboard.activities.discussionActivities",["services",n.name]).controller("DiscussionActivitiesController",r);return r.$inject=["$rootScope","$scope","Utils","Activity","CourseSearchableActivity","User","CourseTakingDashboardService","$location"],a}),define("ud.page",["jquery-widget-init","require","ud-link","jsuri","jquery.ba-throttle-debounce","ud.api.v2"],function(e,t,n,i){e.widget("ud.ud_page",{options:{pages:[]},_create:function(){if(this.element.data("page-name")){this.options.pages=this.element.data("page-name").split(",");for(var e=0;e<this.options.pages.length;e++)"undefined"!=typeof this._pages[this.options.pages[e]]&&this._pages[this.options.pages[e]].apply(this)}window.tmp=this},destroy:function(){},_pages:{}}),e.extend(e.ud.ud_page.prototype._pages,{"import-content":function(){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("tr#form-item-title,tr#form-item-description,tr.form-submit-button").show(),this.element.find("#title").val()||this.element.find("#title").val(t.title),this.element.find("#description").val()||this.element.find("#description").val(t.description)}.context(this))},"quick-import-content":function(){this.element.find("button").hide(),this.element.find(".ud-importcontent").bind("ud_importcontent.url_loaded",function(e,t){this.element.find("#title").val(t.title),this.element.find("#description").val(t.description),this.element.find("button").show()}.context(this))},"message-delete-icon-hover":function(){this.element.hover(function(){e(this).find(".delete").show()},function(){e(this).find(".delete").hide()})},"admin-affiliate-approval":function(){this.element.click(function(t){t.preventDefault(),e.ajax({url:e(t.currentTarget).attr("href")}).success(function(n){UD.Utils.Feedback.fromText(n,"info"),e(t.currentTarget).parent().html('<span class="text-success">Done</span>')}).fail(function(n){UD.Utils.Feedback.fromText(n.responseText,"error"),e(t.currentTarget).parent().html('<span class="text-danger"><i class="icon-warning-sign text-danger"></i> Error</span>')})}.context(this))},"admin-reset-certificate":function(){this.element.click(function(t){if(confirm("Are you sure you want to reset this certificate?")){var n=this.element.parent(".resetLinkContainer");n.text("..."),e.post("/apps/admin/certificate/reset",{certificateId:this.element.data("certificateId")},function(e){n.html(e)})}}.context(this))},"admin-mark-as-fraudster":function(){this.element.click(function(t){var n=this.element.parent().children(".markingResult");n.text("...");var i={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/mark-as-fraudster",i,function(e){n.html(e)})}.context(this))},"admin-unmark-fraudster":function(){this.element.click(function(t){var n=this.element.parent().children(".unmarkingResult");n.text("...");var i={userId:this.element.data("userId"),fraudId:this.element.data("fraudId")};e.post("/apps/admin/fraud/unmark-fraudster",i,function(e){n.html(e)})}.context(this))},"admin-send-receipt":function(){this.element.click(function(t){var n=this.element.parent().children(".sendReceiptResult");n.text("...");var i={transactionId:this.element.data("transactionId")};e.post("/apps/admin/user/send-receipt",i,function(e){n.html(e)})}.context(this))},"admin-copy-dispute-response":function(){this.element.click(function(t){var n={transactionId:this.element.data("transactionId")};e.post("/apps/admin/manage-user-payment/generateDisputeInfo",n,function(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)})}.context(this))},"admin-block-transaction-courses":function(){this.element.click(function(t){var n=this.element,i=n.parent().children(".result");i.text("...");var r=n.data("blockStatus"),a={transactionId:n.data("transactionId"),blockStatus:r};e.post("/apps/admin/manage-user-payment/updateBlockStatus",a,function(e){i.html(e),r?(n.data("blockStatus",0),n.text("Unblock")):(n.data("blockStatus",1),n.text("Block"))})}.context(this))},"admin-collection-memcache-reset-link":function(){this.element.click(function(t){var n=this.element.parent().children(".collection-memcache-reset-result"),i=this.element;n.text("..."),e.post("/apps/admin/collection/resetCollectionMemcache",{collectionId:i.data("collectionId")},function(e){n.html(e),i.remove()})}.context(this))},"init-price-form":function(){var t=this.element.find("form"),n=function(){var e=t.find('input[name="isPremium"]:checked');0!==e.length&&("Yes"==e.attr("value")?(t.find("#form-item-initPrice").show(),t.find("#form-item-recurringPrice").show()):(t.find("#form-item-initPrice").hide(),t.find("#form-item-recurringPrice").hide()))};t.find("#form-item-isPremium input").each(function(){e(this).change(function(){n()})}),n()},"remove-links":function(){this.element.find("a").click(function(e){e.preventDefault()})},"test-video-toggle-form-button":function(){this.element.on("click",function(){var t=e(".test-video-form");t.is(":hidden")?t.slideDown():t.slideUp()})},"toggle-change-price-form":function(){var t=300,n=this.element.find(".change-pricing"),i=this.element.find(".show-pricing"),r=e("[data-page-name=toggle-change-price-form]").data("active");e(".toggle-price-form").on("click",e.debounce(100,function(e){i.slideToggle(t,function(e){n.slideToggle(t),n.css("display","block")})}).context(this)),e(".change-pricing .cancel-link").on("click",e.debounce(100,function(e){n.slideToggle(t,function(e){i.slideToggle(t),i.css("display","block")})}).context(this)),"show-price"==r?(i.css("display","block"),n.css("display","none")):(n.css("display","block"),i.css("display","none"))},"mark-announcement-as-read":function(){this.element.find(".unread").click(function(t){e(t.currentTarget).removeClass("unread"),e(t.currentTarget).addClass("read")})},"resize-course-title-page-element":function(){var t=function(){var t=this.element,n=0;marginTop=t.outerHeight(!0)-t.innerHeight(),t.siblings("div").each(function(){n+=e(this).outerHeight(!0)});var i=t.parent().height(),r=i-n;t.height(r);var a=t.height(),o=0,s=!0,c=0;do c=o,o=0,s=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),e(this).is("h1")?parseInt(fontSize)<60?fontSize=parseInt(fontSize)+1:fontSize=parseInt(fontSize):parseInt(fontSize)<42?fontSize=parseInt(fontSize)+1:fontSize=parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),o+=e(this).outerHeight(!0)}),o==c&&(s=!1);while(s&&a>o);do c=o,o=0,s=!0,t.children().each(function(){fontSize=e(this).css("fontSize"),fontSize=fontSize.substring(0,fontSize.length-2),e(this).is("h1")?parseInt(fontSize)>24?fontSize=parseInt(fontSize)-1:fontSize=parseInt(fontSize):parseInt(fontSize)>12?fontSize=parseInt(fontSize)-1:fontSize=parseInt(fontSize),e(this).css("fontSize",fontSize+"px"),o+=e(this).outerHeight(!0)}),o==c&&(s=!1);while(s&&o>a);var u=a-o;this.element.children(":nth-child(1)").css("marginBottom",u/2+"px")}.context(this);t(),e(window).resize(t)},"ajaxify-pagination":function(){e("li[class*=navigation-] a",this.element).live("click",function(){var t=e(this);t.closest(".slider-pagination").addClass("on");var n=t.attr("href");return e.ajax({type:"GET",url:n+"&displayType=ajax",success:function(e){t.closest(".courses").replaceWith(e)}}),!1})},"settings-page":function(){"disableAllEmails"==e("input#disableAllEmails",this.element).attr("id")&&e("input#disableAllEmails",this.element).attr("checked")&&this.element.find(".settings-form-l2 input[type=checkbox]").attr("disabled","disabled"),e("input,select",this.element).change(function(t){e(t.target).parents("form").find("button").removeClass("disabled")}),e("input#disableAllEmails",this.element).change(function(t){e(t.target).attr("checked")?e("#general-notification-settings input[type=checkbox]",this.element).attr("disabled","disabled"):e("#general-notification-settings input[type=checkbox]",this.element).removeAttr("disabled")}.context(this))},"categorized-select":function(){var t=this.element;t.hide();var n=t.find("option"),i={},r={},a=[],o="",s=e('<select style="width:auto"></select>');s.append('<option selected="selected" value="">-- Select One --</option>'),e("body").append(s);var c;e.each(n,function(t){if(0!=t)var n=e(this).attr("category");e(this).attr("selected")&&(a=e(this).val(),0!=t&&(o=n)),0!=t&&(i[n]||(i[n]=[],r[n]=[],s.append('<option value="'+n+'">'+n+"</option>")),i[n].push(e(this)),r[n].push(e(this).text()))});var c=e("<span>&nbsp;&gt;&nbsp;</span>");c.hide(),t.before(s).before(c);var u=function(n){t.html(""),n?(t.append('<option selected="selected" value="">-- Select One --</option>'),e.each(i[n],function(e,i){var o="";a==this.val()&&(t.children().removeAttr("selected"),o='selected="selected"'),t.append('<option category="'+n+'" value="'+this.val()+'" '+o+">"+r[n][e]+"</option>")}),c.show(),c.css("display","inline"),t.show()):(t.hide(),c.hide())};s.change(function(t){u(e(t.target).val())}),o&&(s.val(o),u(o))},"make-all-downloadable":function(){e("input[name=CheckAll]",this.element).click(function(){e("input[type=checkbox]").attr("checked","checked")}),e("input[name=UnCheckAll]",this.element).click(function(){e("input[type=checkbox]").removeAttr("checked")})},"manage-lectures":function(){e(".lectures li.certificate").hover(function(){e.each(e(this).attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).addClass("highlighted")})},function(){e.each(e(this).attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).removeClass("highlighted")})}),e("#sortable-lectures-list a.deleteItem").click(function(){var t=this.rel,r=e(this).closest("li"),a=e(this).closest("ul");if(r.addClass("deleting"),r.hasClass("chapter"))var o=1;if(o)var s=n.to("lecture","delete-chapter",{chapterId:t,displayType:"ajax"});else var s=n.to("lecture","delete",{lectureId:t,displayType:"ajax"});if(o)var c=confirm("Are you sure you want to remove this chapter?");else var c=confirm("Are you sure you want to remove this lecture?");return c&&e.post(s,function(){r.fadeOut(function(){i(a)})}),!1});var t=function(e){e.sortable({update:function(t,n){i(e)}})}.context(this),i=function(t){e.post(this.element.data("post-url"),t.sortable("serialize"),function(t){var n=0,i=!1,r=0;e.each(e("#sortable-lectures-list li"),function(t,a){e(this).hasClass("lecture")?(e(".lecture-index",this).text(n+=1),i&&e(this).hasClass("chaptered")?e(this).addClass("chaptered"):!i&&e(this).hasClass("chaptered")&&e(this).removeClass("chaptered")):e(this).hasClass("chapter")&&(i=!0,r=a+1,n=0)}),e("#sortable-lectures-list li").removeClass("deleting")})}.context(this);t(e("#sortable-lectures-list")),e(".highlight-requirements a").click(function(){"highlight requirements"==e(this).text()?(e(this).text("unhighlight requirements"),e(this).closest("div").removeClass("highlight-requirements"),e(this).closest("div").addClass("unhighlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).addClass("constant-highlighted")}),e(this).closest(".highlighted-links").addClass("constant-highlighted-links")):"unhighlight requirements"==e(this).text()&&(e(this).text("highlight requirements"),e(this).closest("div").removeClass("unhighlight-requirements"),e(this).closest("div").addClass("highlight-requirements"),e.each(e(this).closest("li.certificate").attr("requiredids").split(","),function(t,n){e("#lecture_lec"+n).removeClass("constant-highlighted")}),e(this).closest(".highlighted-links").removeClass("constant-highlighted-links"))})},"date-form-item-opts":function(){var t=this.element.data("disable-weekdays"),n=this.element.data("disable-pastdays"),i=this.element.data("disable-pastmonths"),r=this.element.data("weekdays");this.element.siblings("#"+this.element.data("id")).datepicker("option","beforeShowDay",function(a){if(res=[!0],t)for(var o=a.getDay(),s=0;s<r.length;s++)-1!=e.inArray(o,r)&&(res=[!1]);if(n){var c=new Date;c.setDate(c.getDate()-1);var u=c.getTime()+6e4*c.getTimezoneOffset(),l=new Date(u+-288e5);l>=a&&(res=[!1])}if(i){var d=new Date;a.getMonth();d.setDate(0),d>a&&(res=[!1])}return res})},"payment-report":function(){function n(){var t=S.element.data("month"),n=S.element.data("course"),i=e("#dashboard-content").data("userid"),r="?userId="+i;return t&&(r+="&month="+t),n&&(r+="&course="+n),r}function i(e,t){var n=e.split("="),i=decodeURIComponent(n[0]),r=decodeURIComponent(n[1]);return i==t?r:null}function r(){t(["jquery.jqGrid"],function(){var e=l("sale-type"),t=n(),i=l(A),r=l(T),o=l(D);a(g+t,y,k,x,A,i),a(h+t,b,$,C,T,r),e&&"all"!=e?(a(f+t+"&saleType="+e,v,w,_,D,o),p("#"+e)):a(f+t,v,w,_,D,o)})}function a(n,i,r,a,o,c){return n.length<=0?!1:((!c||0>=c)&&(c=1),void e.ajax({type:"GET",url:i,data:"",dataType:"json",success:function(i){colNames=i.colNames,colModel=i.colModel,tableCaption=i.caption,t(["jquery.jqGrid"],function(){e(r).jqGrid("GridUnload"),e(r).jqGrid({url:n,datatype:"json",height:"100%",autowidth:!0,pager:a,rowNum:30,rowList:[10,20,30,40,50],colNames:colNames,colModel:colModel,viewrecords:!0,shrinkToFit:!0,caption:tableCaption,page:c,emptyDataText:"No records to view!",cellattr:function(e,t,n,i,r){return'style="white-space: normal;'},gridComplete:function(){0==e(r).getGridParam("records")&&s(r)},onPaging:function(t){var n=e(r).getGridParam("page");d(o,n)}}),e(r).jqGrid("navGrid",a,{edit:!1,add:!1,del:!1})}.context(this))}.context(this)}))}function o(e){return e.length>0&&"#"===e[0]&&(e=e.substr(1)),e}function s(t){var n=e(t),i=n.getGridParam("emptyDataText"),r=n.parents(".ui-jqgrid-view");r.find(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv").hide(),r.find(".ui-jqgrid-titlebar").after(""+i)}function c(){var e=document.location.hash;return o(e)}function u(e){window.location.hash=e}function l(e){var t=c(),n=null;if(t.indexOf("#")>-1&&(t=t.substring(0,t.indexOf("#"))),t.indexOf(",")>-1)for(var r=t.split(","),a=0;a<r.length&&(n=i(r[a],e),null===n);a++);else n=i(t,e);return n}function d(e,t){var n=c(),r=e+"="+t;if(n.length<=0)return void u(r);if(l(e)){for(var a=n.split(","),o=0;o<a.length;o++)if(i(a[o],e)){a[o]=r;break}n=a[0];for(var o=1;o<a.length;o++)n+=","+a[o]}else n+=","+r;u(n)}function p(t){e("#all-tran").attr("class","btn"),e("#coupon").attr("class","btn"),e("#company-coupon").attr("class","btn"),e("#deal").attr("class","btn"),e("#organic").attr("class","btn"),e("#promotion").attr("class","btn"),e("#ad-program").attr("class","btn"),e("#mobile-ad-program").attr("class","btn"),e("#in-app-purchase").attr("class","btn"),e("#email-marketing").attr("class","btn"),e("#affiliate").attr("class","btn"),e(t).attr("class","btn btn-info")}function m(e){var t=e.data.filterType,i=f;i+=n(),i+="&saleType="+t,a(i,v,w,_,D,1),p("all"==t?"#all-tran":"#"+t),d("sale-type",t),d(D,"1")}var f="/dashboard/get-subscriber-transactions",g="/dashboard/get-refunds",h="/dashboard/get-deal-payments",v="/dashboard/transaction-table-info.html",y="/dashboard/refunds-table-info.html",b="/dashboard/deal-payments-table-info.html",w="#transaction-table",k="#refund-table",$="#dealpayment-table",_="#tr-pager",x="#ref-pager",C="#deal-pager",D="tr-page",T="deal-page",A="ref-page",S=this;e("#all-tran",this.element).click({filterType:"all"},m),e("#coupon",this.element).click({filterType:"coupon"},m),e("#company-coupon",this.element).click({filterType:"company-coupon"},m),e("#deal",this.element).click({filterType:"deal"},m),e("#organic",this.element).click({filterType:"organic"},m),e("#promotion",this.element).click({filterType:"promotion"},m),e("#ad-program",this.element).click({filterType:"ad-program"},m),e("#mobile-ad-program",this.element).click({filterType:"mobile-ad-program"},m),e("#in-app-purchase",this.element).click({filterType:"in-app-purchase"},m),e("#email-marketing",this.element).click({filterType:"email-marketing"},m),e("#affiliate",this.element).click({filterType:"affiliate"},m),r()},"feedbacks-bar":function(){var t=this.element.find("div.feedback-bar");t.each(function(t,n){e(n).hide(),e(n).click(function(){e(this).dequeue()})});var n=function(t,i){e(t[i]).slideDown({duration:"slow",queue:!1}).delay(4e3).slideUp("slow",function(){i<t.length-1?n(t,i+1):this.element.hide()}.context(this))}.context(this);this.element.show(),setTimeout(function(){n(t,0)}.context(this),2e3)},"admin-request-approval-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault();var n=e(e(t.target).find("textarea")[0]),i=e(t.target).find("input");if(i.each(function(){return"Rejected"==e(this).val()?(i=e(this),!1):void 0}),""==n.val()&&"checked"==i.attr("checked")){var r=e(e(t.target).find(".notification")[0]);r.html('<span style="color:red">- Enter a reason!</span>')}else e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(n){t.target||(t.target=t.srcElement||document),e(t.target).attr("disabled","disabled"),r=e(e(t.target).find(".notification")[0]),r.html('<span style="color:green">- Success!</span>')},error:function(){t.target||(t.target=t.srcElement||document),r=e(e(t.target).find(".notification")[0]),r.html('<span style="color:red">- Failure!</span>')}})})},"admin-shorten-url-form":function(){this.element.submit(function(t){t.target&&(t.target=t.srcElement||document),t.preventDefault(),e.ajax({type:"POST",url:t.target.action,data:e(t.target).serialize(),success:function(n){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(n),ele.html("<span class='result "+res.result+"'>"+res.result+":</span> <span class='url'>"+res.info+"</span>")},error:function(n){ele=e(e(t.target).find("p.result")[0]),res=jQuery.parseJSON(n.responseText),ele.html("<span style='color:red'>Error: "+res+"</span>")}})})},"admin-super-coupon-form":function(){function t(){"given"==e("#course-set").val()?e("#course-ids").removeAttr("readonly"):e("#course-ids").attr("readonly","readonly")}t(),e("#course-set").change(t.context(this))},"affiliate-dashboard":function(){var t=e("input#searchbox");t.on("keypress",function(e){13==e.which&&($uri=new i(window.location).deleteQueryParam("p").replaceQueryParam("q",t.val().trim()),window.location=$uri.toString())})},"organizations-landing":function(){var t=0;setInterval(function(){t++;var n=t%4;e(".discover-courses-list").children().css({opacity:1}).delay(50).animate({opacity:"-=1"},600),setTimeout(function(){e(".discover-courses-list").children().css({display:"none"})},655),setTimeout(function(){var t=e(".discover-courses-list").children().slice(3*n,3*(n+1));t.css({display:"inline-block",opacity:0}).delay(50).animate({opacity:"+=1"},800)},660)},4e3)},"ajax-a-tag":function(){var t=this.element;t.bind("click",function(n){n.preventDefault(),e.ajax(t.attr("href")).done(function(e){t.html(e),t.unbind("click").bind("click",function(e){e.preventDefault()})}).fail(function(){t.html("try again")})})},"ios-deeplink":function(){var e=void 0===this.element.data("fallBackUrl")?null:this.element.data("fallBackUrl"),t=void 0===this.element.data("courseId")?null:this.element.data("courseId"),n="udemy://discover",i=void 0===this.element.data("discoveryTab")?null:this.element.data("discoveryTab");e=decodeURIComponent(e),t?(t=parseInt(t),t&&(n+="?courseId="+t)):i&&(n+="?discoverUnitId="+i),window.setTimeout(function(){window.location=e},400),window.location=n},"android-deeplink":function(){var e=this.element,t=void 0===e.data("fallBackUrl")?null:e.data("fallBackUrl");
window.setTimeout(function(){window.location=decodeURIComponent(t)},400)},"teach-iframe":function(){e("body").on("change",function(){parent.resizeIframe()})},"close-promote-mobile":function(){e(".close-promote-mobile",this.element).click(function(){UD.API_V2.call("/users/me/settings/",{type:"POST",data:{setting:"showDownloadMobileBanner",value:0}}),this.element.slideUp(1e3)}.bind(this))},"survey-hide-phone-number":function(){e("#form-item-phoneNumber",this.element).children("label").hide(),e("#emailSubscriberList, #youtubeSubscriberList",this.element).change(function(){var t=parseInt(e("#emailSubscriberList").val()),n=parseInt(e("#youtubeSubscriberList").val());t>=5e3||n>=5e3?e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).show():e("#phoneNumber, #form-item-phone-number-header, #form-item-phone-number-header-text",this.element).hide()}),e("#emailSubscriberList, #youtubeSubscriberList",this.element).trigger("change")},"landing-page-v41":function(){var n=e(".show-nav-on-this",this.element);if(n.length){var i,r=e(".hidden-course-bar",this.element),a=n.offset().top;e(window).scroll(function(){i=e(this).scrollTop(),i>a-65?r.addClass("slideDown"):r.removeClass("slideDown")})}e(".cur-list-row").on("click",function(){return e(this).toggleClass("on"),!1}),e(".landing-page").scrollspy({target:"#scrollspy"}),t(["checkout.app/app"],function(){})}})}),define("ud.utils",["jquery","jquery-migrate","ud.page"],function($){"use strict";function _appendErrorsToForm(e,t,n){n||(n="outside-error-msg");var i,r,a,o,s=$("<span>",{"class":"error-msg inside-error-msg",text:"required"}),c=$("<div>",{"class":"form-tooltip black-tooltip medium arrow-left error-msg "+n}),u=$("<span>",{"class":"arrow"});if(e)for(i in e)r=e[i],i=$.camelCase(i.replace(/_/gi,"-")),o=t.find("#form-item-"+i+" > .tooltip-reference"),a=o.find("[id^="+i+"],[id^=id_"+i+"],[udid="+i+"]"),o.addClass("field-error"),r||!a.is('input[type="text"]')&&!a.is("textarea")?r&&o.append(c.clone().html(r).append(u.clone())):o.append(s.clone())}UD.Utils=UD.Utils||{},UD.Utils.Date={parseYearWeek:function(e){var t=Math.floor(e/100),n=e%100,i=new Date(t,0,1),r=i.getDate()+7*(n-1)-i.getDay();return i.setDate(1>r?r+7:r),i}},UD.Utils.Array={pivotize:function(e,t,n,i,r){var a,o,s,c,u={},l=[],d=[],p=[],m="",f=function(e){return e.match(/^-{0,1}\d*\.{0,1}\d+$/)?"#"+e:e};for(c=0;c<e.length;c++)o=e[c],a=u[o[t]],"undefined"==typeof a&&(s={},s[t]=o[t],p.push(s),a=p.length-1,u[o[t]]=a),m=f(o[n]),-1===l.indexOf(m)&&l.push(m),p[a][m]=o[i];for(c=0;c<p.length;c++){d[c]={},d[c][t]=p[c][t];for(var g=0;g<l.length;g++)m=l[g],"undefined"==typeof p[c][m]?d[c][m]=r:d[c][m]=p[c][m]}return d}},UD.Utils.Object={merge:function(e,t,n,i){n=n!==!1,e=n?this.clone(e):e;var r,a;for(var o in t)if(r=e[o],a=t[o],!i||void 0===r)if("object"!=typeof r||r instanceof Array||r instanceof RegExp||null===r)if(r instanceof Array&&a instanceof Array)for(var s=0,c=a.length;c>s;++s)r[s]=a[s];else"object"!=typeof a||a instanceof Array||a instanceof RegExp||null===a?e[o]=a:e[o]=this.clone(a);else"object"!=typeof a||a instanceof Array||a instanceof RegExp||null===a?e[o]=a:e[o]=arguments.callee.call(this,r,a,n,i);return e},getFieldsArray:function(e){var t=[];for(var n in e)t.push(n);return t},exclusiveMerge:function(e,t,n){return this.merge(e,t,n,!0)},clone:function(obj){var newObj={},o;for(var i in obj)o=obj[i],o instanceof Array?newObj[i]=o.concat():o instanceof RegExp?newObj[i]=eval(o.toString()):void 0===o||null===o?newObj[i]=o:"object"==typeof o?newObj[i]=arguments.callee.call(this,o):newObj[i]=o;return newObj}},UD.Utils.connect=function(e,t,n,i){if((void 0===e||null===e)&&(e=function(){}),2==arguments.length?(n=t,t=null):3==arguments.length&&(i=n,n=t,t="__context__"),e&&e.__connectedFunctions)return e.__connectedFunctions.push({func:n,context:i}),e;var r=function(){if(t="__context__"==t?this:t,e&&e.apply(t,arguments),r.__connectedFunctions)for(var n,i=0;i<r.__connectedFunctions.length;i++)n=r.__connectedFunctions[i],n.func.apply(n.context,arguments)};return r.__connectedFunctions=[{func:n,context:i}],r},UD.Utils.getFileExtension=function(e){var t=e.match(/\.([^\.\/]+)$/);return t.length>=2?t[1]:null},UD.Utils.parseLinkHeader=function(e){for(var t,n={},i=/<\s*"?(.*?)"?\s*>\s*;\s*rel\s*=\s*"(\w+)"/gi;null!==(t=i.exec(e));)n[t[2]]=t[1];return n},UD.Utils.MessageType={info:"info",error:"error"},UD.Utils.Feedback={fromText:function(e,t){t=t||UD.Utils.MessageType.info,e&&($("body>div.feedbacks-bar").remove(),$("body").prepend($("<div>",{"class":"feedbacks-bar ud-page","data-page-name":"feedbacks-bar"}).append($("<div>",{"class":"feedback-bar feedback-type-"+t}).append($("<div>",{"class":"feedback-container"}).append($("<p>",{"class":"message",text:e}))))),$(".feedbacks-bar").ud_page())},fromObj:function(e){UD.Utils.Feedback.fromText(e.message,e.type)},fromJqXHR:function(e,t,n){"function"==typeof n.getResponseHeader?UD.Utils.Feedback.fromText(n.getResponseHeader("X-UI-Message"),n.getResponseHeader("X-UI-Message-Type")):"function"==typeof e.getResponseHeader&&UD.Utils.Feedback.fromText(e.getResponseHeader("X-UI-Message"),e.getResponseHeader("X-UI-Message-Type"))}};var FormSelector={formError:".js-form-error"};UD.Utils.Form={fillErrors:function(e,t){var n,i=e.find(FormSelector.formError),r=t.responseJSON||t,a=r.detail?r.detail.error:r.error;a&&(this.resetErrors(e),a.details?(n=a.details,n.error&&(i.html(n.error),i.removeClass("none")),$.isEmptyObject(n.invalid_items)||_appendErrorsToForm(n.invalid_items,e),$.isEmptyObject(n.invalidItems)||_appendErrorsToForm(n.invalidItems,e),$.isEmptyObject(n.warning_items)||_appendErrorsToForm(n.warning_items,e,"outside-warning-msg"),$.isEmptyObject(n.warningItems)||_appendErrorsToForm(n.warningItems,e,"outside-warning-msg")):a.message&&(i.html(a.message),i.removeClass("none")))},resetErrors:function(e){var t=e.find(FormSelector.formError);t.addClass("none"),t.empty(),e.find(".error-msg").remove(),e.find(".field-error").removeClass("field-error")}}}),define("course-taking-dashboard.app/activities/discussion/discussion-creation-pane",["angular","./../../../../directives/common/forms/module","ng-root/services/course-resources","ud.utils","ud.googleanalytics"],function(e,t,n){"use strict";function i(e,t,n,i,r){var a,o=null;e.discussion={title:"",content:""},e.currentLecture={},e.state={formError:a=new r,showFullView:!1,isEditing:!1,isSubmitted:!1,submitDisabled:!1},e.showDiscussionPopover=!1,e.showDiscussion=function(){e.state.showFullView=!0},e.closeDiscussion=function(){e.state.showFullView=!1,e.resetForm()},e.resetForm=function(){e.discussion.title="",e.discussion.content="",e.currentLecture={},a.reset()},e._positionHandler={getPosition:function(){return null}},e.setPositionHandler=function(t,n){e._positionHandler=n},$(window).on("setPositionHandler",null,null,e.setPositionHandler),e.onSubmitContent=function(r){if(!e.state.submitDisabled){e.state.submitDisabled=!0;var s;r&&e.state.isSubmitted===!0&&(e.discussion.content=r,s=t.lectureTakingPageActive?t.lectureId:e.currentLecture?e.currentLecture.id:null,n.createDiscussion(t.courseId,s,e._positionHandler.getPosition(),e.discussion.content,e.discussion.title,a.ignoreWarnings(e.discussion.content,o)).then(function(n){function r(t){e.resetForm(),e.state.submitDisabled=!1,e.state.showFullView=!1;for(var r=null,a=0;a<t.data.results.length;a++){var o=t.data.results[a].action_object;if("course_discussion"==o._class&&o.id==n.data.id){r=t.data.results[a];break}}r&&i.followActivity(r).then(function(){r.is_following=!0,r.num_follows=(r.num_follows||0)+1}),e.$emit("discussionActivities:addActivity",t.data.results)}t.lectureTakingPageActive?i.getLectureDiscussions(null,t.getAfterTime(t.discussionActivities),s).then(r):i.getDiscussions(t.courseId,null,t.getAfterTime(e.activities)).then(r)},function(t){e.state.submitDisabled=!1,a.processResponseError(t),UD.Utils.Feedback.fromObj(a.getFeedback())})),o=r}},e.$on("$destroy",function(){$(window).off("setPositionHandler",null,e.setPositionHandler)})}function r(){return{restrict:"E",replace:!0,controller:"DiscussionCreationController",scope:{eventSourcePage:"@"},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/discussion/discussion-creation-pane.html"}}var a=e.module("apps.courseTakingDashboard.activities.discussionCreationPane",[t.name,n.name]).controller("DiscussionCreationController",i).directive("discussionCreationPane",r);return i.$inject=["$scope","$rootScope","Discussion","Activity","FormError"],a}),define("course-taking-dashboard.app/activities/discussion/module",["angular","./discussion-activities","./discussion-creation-pane"],function(e,t,n){"use strict";return e.module("apps.courseTakingDashboard.activities.announcement",[t.name,n.name])}),define("course-taking-dashboard.app/activities/announcement/announcement-activities",["jquery","angular","ud-config","ng-root/services"],function(e,t,n){"use strict";function i(t,i,r,a,o){t.$emit("loadDashboard"),t.me=a.getMe(),t.activities=[],t.loadingActivities=!1,t.reachedTheEndOfFeed=!1,t.currentTab="announcement",t.isOrganization=n.brand.has_organization,o.resetLectureTaking();var s=e.Event("showDashboard");e(window).trigger(s),t.loadNextPage=function(){t.loadPage()},t.loadMore=function(){t.loadingActivities||t.reachedTheEndOfFeed||t.loadNextPage()},t.loadPage=function(){var e=r.getAnnouncements(i.courseId,i.getBeforeTime(t.activities),null);t.loadingActivities=!0,e.then(function(e){t.loadingActivities=!1,t.reachedTheEndOfFeed=!e.data.next,t.activities=t.activities.concat(e.data.results)})},t.$on("$routeChangeStart",function(){t.introObj&&(t.introObj.exit(),t.introObj=null)}),t.loadNextPage()}var r=t.module("apps.courseTakingDashboard.activities.announcementActivities",["services"]).controller("AnnouncementsController",i);return i.$inject=["$scope","$rootScope","Activity","User","CourseTakingDashboardService"],r}),define("course-taking-dashboard.app/activities/announcement/announcement-creation-pane",["angular","./../../../../directives/common/forms/module","ng-root/services/course-resources"],function(e,t,n){"use strict";function i(e,t,n,i,r,a,o){e.content="",e.state={formError:new a,isEditing:!0,isSubmitted:!1,isDisabled:!1,isInitialized:!1,resetValue:!1,btnDisabled:!1},e.state.formError.setErrorMessage("");var s=null;n.getAllowedAnnouncementsCount(t.courseId).success(function(t){var n;t.count<=0?(n=o.getString("Whoops! Looks like you’ve already sent out "+t.max_count+" Educational Announcements this month. You must wait until next month before sending any more Course Announcements for this course."),e.state.formError.setErrorMessage(n),e.state.isDisabled=!0):e.state.isDisabled=!1,e.state.isInitialized=!0}),e.state.editorValueCollectedFn=function(n){if(e.state.btnDisabled=!0,n||e.state.isSubmitted){var a=e.state.formError.ignoreWarnings(n,s);e.saveSubmittedAnnouncementDetails(n),i.save({},{course:t.courseId,content:n,ignoreWarnings:a},function(n){r.getAnnouncements(t.courseId,null,t.getAfterTime(e.activities)).then(function(t){Array.prototype.unshift.apply(e.activities,t.data.results),e.state.formError.reset()}),e.state.resetValue=!0,e.state.btnDisabled=!1},function(t){e.state.formError.processResponseError(t),e.state.resetValue=!1,e.retrieveLastSubmittedAnnouncementDetails(),e.state.btnDisabled=!1}),e.content=""}e.state.resetValue=!1,e.state.isSubmitted=!1,s=n},e.saveSubmittedAnnouncementDetails=function(t){e.submittedAnnouncementDetails={content:t}},e.retrieveLastSubmittedAnnouncementDetails=function(){e.content=e.submittedAnnouncementDetails.content}}function r(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/announcement/announcement-creation-pane.html",controller:"AnnouncementCreationCtrl"}}var a=e.module("apps.courseTakingDashboard.activities.announcementCreationPane",[t.name,n.name]).controller("AnnouncementCreationCtrl",i).directive("announcementCreationPane",r);return i.$inject=["$scope","$rootScope","User","CourseAnnouncement","Activity","FormError","gettextCatalog"],a}),define("course-taking-dashboard.app/activities/announcement/module",["angular","./announcement-activities","./announcement-creation-pane"],function(e,t,n){"use strict";return e.module("apps.courseTakingDashboard.activities.announcement",[t.name,n.name])}),define("course-taking-dashboard.app/activities/module",["angular","./discussion/module","./announcement/module"],function(e,t,n){"use strict";return e.module("apps.courseTakingDashboard.activities",[t.name,n.name])}),define("course-taking-dashboard.app/curriculum/next-quiz",["angular","ud.coursetakingtracker","ud-template","ud-translate","ng-root/apps/course-taking-v4/v4url-filter"],function(e,t){"use strict";function n(){return{restrict:"E",replace:!0,transclude:!0,scope:{quiz:"="},link:function(e){e.sendGoogleAnalyticsEvent=function(){t.track("Dashboard Resume","lecture visit")}},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/next-quiz.html"}}var i=e.module("apps.courseTakingDashboard.curriculum.nextQuiz",["udTemplate","udTranslate","apps.courseTakingV4.v4urlFilter"]).directive("nextQuiz",n);return i}),define("course-taking-dashboard.app/curriculum/next-lecture",["angular","ud.coursetakingtracker","ud-template","ud-translate","ng-root/apps/course-taking-v4/v4url-filter"],function(e,t){"use strict";function n(){return{restrict:"E",replace:!0,transclude:!0,scope:{lecture:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/next-lecture.html",link:function(e){e.showPlayIcon=function(){return!e.lecture||"Video"!=e.lecture.asset.type&&"ImportContent"!=e.lecture.asset.type&&"Audio"!=e.lecture.asset.type&&"Presentation"!=e.lecture.asset.type&&"VideoMashup"!=e.lecture.asset.type?!1:!0},e.showRemaining=function(){return!e.lecture||"Video"!=e.lecture.asset.type&&"ImportContent"!=e.lecture.asset.type?!0:e.lecture.timeEstimate.duration>0},e.remainingMinutes=function(){if(e.lecture){if("Video"==e.lecture.asset.type||"ImportContent"==e.lecture.asset.type||"VideoMashup"==e.lecture.asset.type||"Audio"==e.lecture.asset.type)return e.lecture.timeEstimate.duration-e.lecture.startPosition;if("Article"==e.lecture.asset.type||"Document"==e.lecture.asset.type)return e.lecture.timeEstimate.duration}return 0},e.remainingSlides=function(){return e.lecture&&e.lecture.asset&&"Presentation"==e.lecture.asset.type?e.lecture.asset.data.numberOfSlides-e.lecture.startPosition:0},e.getCurrentLectureIcon=function(){var t={Video:"icon-play-sign",Article:"icon-file-text",Presentation:"icon-bar-chart",EBook:"icon-book","E-Book":"icon-book",Audio:"icon-microphone",VideoMashup:"icon-film",Upcoming:"icon-calendar",File:"icon-file-alt",IFrame:"icon-retweet",Locked:""},n="";return n=e.lecture&&e.lecture.asset&&e.lecture.asset.type?t[e.lecture.asset.type]:"icon-play-sign"},e.sendGoogleAnalyticsEvent=function(){t.track("Dashboard Resume","lecture visit")}}}}var i=e.module("apps.courseTakingDashboard.curriculum.nextLecture",["udTemplate","udTranslate","apps.courseTakingV4.v4urlFilter"]).directive("nextLecture",n);return i}),define("course-taking-dashboard.app/../../../common/constants",[],function(){"use strict";var e={quiz_type:{QUIZ:"simple-quiz",CODING_EXERCISE:"coding-exercise"}};return e}),define("course-taking-dashboard.app/curriculum/curriculum-quiz",["angular","../../../../common/constants","ud-template","ud-translate","ng-root/apps/course-taking-v4/v4url-filter"],function(e,t){"use strict";function n(e,n,i,r){function a(){return n.quizDirectiveCompiled=!0,o}function o(n){n.getQuizHref=function(){if(n.isLocked())return"";var t=e("v4url"),i=e("fixurl");return t(i(n.elementData.url))},n.getCompletionRatio=function(){return i.completionRatio(n.elementData)},n.isCompleted=function(){return i.isCompleted(n.elementData)},n.isStarted=function(){return i.isStarted(n.elementData)},n.isActive=function(){return i.isActive(n.elementData)},n.isLocked=function(){return i.isLocked(n.elementData)},n.getTypeText=function(){return n.elementData.type==t.quiz_type.CODING_EXERCISE?r.getString("Coding Exercise"):r.getString("Quiz")}}return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/curriculum-quiz.html",scope:{elementData:"="},compile:a}}var i=e.module("apps.courseTakingDashboard.curriculum.quiz",["udTemplate","udTranslate","apps.courseTakingV4.v4urlFilter"]).directive("curriculumQuiz",n);return n.$inject=["$filter","$rootScope","CourseTakingDashboardService","gettextCatalog"],i}),define("course-taking-dashboard.app/curriculum/curriculum-lecture",["angular","ud.coursetakingtracker","ud-template","ud-translate","ng-root/apps/course-taking-v4/v4url-filter"],function(e,t){"use strict";function n(e,n,i){function r(){return n.lectureDirectiveCompiled=!0,a}function a(n){n.getCurrentLectureIcon=function(){var e={Video:"icon-play-sign",Article:"icon-file-text",Presentation:"icon-bar-chart",EBook:"icon-book","E-Book":"icon-book",Audio:"icon-microphone",VideoMashup:"icon-film",Upcoming:"icon-calendar",File:"icon-file-alt",IFrame:"icon-retweet",Locked:""},t=n.elementData.asset&&n.elementData.asset.asset_type;return e[t]},n.getLectureHref=function(){if(n.isLocked())return"";var t=e("v4url"),i=e("fixurl");return t(i(n.elementData.url))},n.getCompletionRatio=function(){return i.completionRatio(n.elementData)},n.isCompleted=function(){return i.isCompleted(n.elementData)},n.isStarted=function(){return i.isStarted(n.elementData)},n.isActive=function(){return i.isActive(n.elementData)},n.isLocked=function(){return i.isLocked(n.elementData)},n.sendGoogleAnalyticsEvent=function(){t.track(n.eventSourcePage,"lecture visit")}}return{restrict:"E",replace:!0,templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/curriculum-lecture.html",scope:{elementData:"=",eventSourcePage:"@"},compile:r}}var i=e.module("apps.courseTakingDashboard.curriculum.lecture",["udTemplate","udTranslate","apps.courseTakingV4.v4urlFilter"]).directive("curriculumLecture",n);return n.$inject=["$filter","$rootScope","CourseTakingDashboardService"],i}),define("course-taking-dashboard.app/curriculum/dashboard-instructor",["angular","ud-template"],function(e){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,scope:{instructor:"=",showTitle:"=",isVisible:"="},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/dashboard-instructor.html"}}var n=e.module("apps.courseTakingDashboard.curriculum.instructor",["udTemplate"]).directive("dashboardInstructor",t);return n}),define("course-taking-dashboard.app/curriculum/email-setting",["angular","ud-template","ud-translate","ng-root/services/course-resources","ud.coursetakingtracker"],function(e,t,n,i,r){"use strict";function a(e,t,n){e.mapping=[],e.mapping["lecture-notification"]=n.getString("New Lecture Emails"),e.mapping["new-course-announcement"]=n.getString("New Announcement Emails"),e.mapping["send-asset-ready"]=n.getString("Lecture Ready Emails"),e.mapping["subscriber-notification"]=n.getString("New Student Emails"),e.mapping["new-review-instructor-notification"]=n.getString("New Course Review Emails"),e.mapping["daily-discussions-digest"]=n.getString("Daily Discussions Emails"),e.mapping["new-course-promotion"]=n.getString("Promotional Emails"),e.eventMapping={"lecture-notification":"settings new-lecture-toggle","new-course-announcement":"settings educational-announcement-toggle","new-course-promotion":"settings promotional-announcement-toggle"},e.updateCourseSetting=function(){e.eventMapping[e.settingKey]&&r.track(e.eventSourcePage,e.eventMapping[e.settingKey]),t.save({},{course:e.courseId,setting:e.settingKey,value:e.settingValue?"on":"off"})}}function o(){return{controller:a,restrict:"E",replace:!0,transclude:!0,scope:{courseId:"=",settingKey:"=",settingValue:"=",eventSourcePage:"@"},templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/curriculum/email-setting.html",link:function(e){e.settingText=e.mapping[e.settingKey]}}}var s=e.module("apps.courseTakingDashboard.curriculum.emailSetting",[t.name,n.name,i.name]).directive("emailSetting",o);return a.$inject=["$scope","UserSettings","gettextCatalog"],s}),define("course-taking-dashboard.app/curriculum/module",["angular","./next-quiz","./next-lecture","./curriculum-quiz","./curriculum-lecture","./dashboard-instructor","./email-setting"],function(e,t,n,i,r,a,o){"use strict";return e.module("apps.courseTakingDashboard.curriculum",[t.name,n.name,i.name,r.name,a.name,o.name])}),define("course-taking-dashboard.app/review/review-star",["angular","ud-core"],function(e,t){"use strict";function n(e,t){return{restrict:"E",replace:!0,scope:!0,link:function(t,n,i){i.starOnClick&&(t.starOnClick=function(){e(i.starOnClick)(t)}),i.showTooltip&&(t.showTooltip=e(i.showTooltip)(t))},templateUrl:t.concat("course-taking-dashboard/review/review-star.html"),controller:["$scope",function(e){e.isStarOn=function(t){return e.courseReview&&e.courseReview.rating>=t},e.starClicked=function(t,n){n.stopPropagation(),n.preventDefault(),e.courseReview.rating=t,e.starOnClick&&e.starOnClick()}}]}}var i=e.module("apps.courseTakingDashboard.review.star",[t.name]).directive("reviewStar",n);return n.$inject=["$parse","NG_APPS_URL"],i}),define("course-taking-dashboard.app/review/review",["angular","jquery","ud-core","ng-root/services/course-resources","ud-me","ud-link","ud-config","./review-star","ud.coursetakingtracker","../../../directives/common/popup","ud.utils"],function(e,t,n,i,r,a,o,s,c){"use strict";function u(n){return{restrict:"E",replace:!0,templateUrl:n.concat("course-taking-dashboard/review/review.html"),scope:{course:"=",isInstructor:"=",showStarLabel:"=",showSmallStarLabel:"=",isEnabled:"=?",eventSourcePage:"@",autoLoad:"=?"},controller:["$scope","$location","CourseSpecificCourseReview","gettextCatalog",function(n,i,s,u){function l(t,i){e.equals({},t)&&t==i||n.course&&(n.reviewLink=n.course.id?a.to("course","reviews-popup",{courseId:n.course.id}):"",s.get({courseId:n.course.id,"fields[course_review]":"@min",user:r.id},function(e){if(e.results.length>0)m(e.results[0]);else if(n.showReview){var t=Number(k[1]);t>0&&6>t&&(n.courseReview.rating=t)}}),h())}function d(t,i){e.equals({},t)&&t==i||n.course&&n.course.review&&m(n.course.review)}function p(){n.courseReview=e.copy(v),n.$apply()}function m(t){n.courseReview=t,v=e.copy(t)}function f(e){m(e),t.ud.ud_popup.prototype.close()}function g(e){UD.Utils.Feedback.fromText(e,"error")}var h,v;n.autoLoad=e.isDefined(n.autoLoad)?n.autoLoad:!0,n.$watch("isEnabled",function(e){n.showReviewsContainer=o.brand.is_add_reviews_enabled&&(n.isInstructor||void 0==n.course.features||n.course.features.reviews_view)&&e});var y=u.getString("Error happened while saving your review. Please submit your review again."),b=u.getString("It looks like you forgot to choose a star rating. Please click on a star and submit your review again."),w=i.absUrl(),k=new RegExp(/rating=([1-5])/).exec(w);n.showReview=null!==k,m({isTemporary:!0}),n.autoLoad?h=n.$watch("course",l):n.$watch("course.review",d),n.getMode=function(){return n.isInstructor?"disabled":n.courseReview.isTemporary?"add":"edit"},n.submitNewReview=function(){return n.submitOnClose=!1,"undefined"==typeof n.courseReview.rating?g(b):(n.sendGoogleAnalyticsEvent("review create"),void s.save({courseId:n.course.id,"fields[course_review]":"@min"},{rating:n.courseReview.rating,title:n.courseReview.title,content:n.courseReview.content},f,g.bind(this,y)))},n.updateReview=function(){n.submitOnClose=!1,n.sendGoogleAnalyticsEvent("review update"),s.update({courseId:n.course.id,reviewId:n.courseReview.id,"fields[course_review]":"@min"},{rating:n.courseReview.rating,title:n.courseReview.title,content:n.courseReview.content},f,g.bind(this,y))},n.deleteReview=function(){n.submitOnClose=!1,n.sendGoogleAnalyticsEvent("review delete"),window.confirm(u.getString("Are you sure you want to delete your review?"))&&s["delete"]({courseId:n.course.id,reviewId:n.courseReview.id},function(){f({isTemporary:!0})},g.bind(this,y))},n.sendGoogleAnalyticsEvent=function(e){c.track(n.eventSourcePage,e)},n.openReviewPopup=function(e){e&&e.preventDefault(),n.sendGoogleAnalyticsEvent("review visit"),t.ud.ud_popup.prototype.open({href:"#dashboard-reviews-popup-"+n.course.id,type:"inline",afterClose:p})},n.cancelReview=function(){t.ud.ud_popup.prototype.close()}}]}}var l=e.module("apps.courseTakingDashboard.review",[n.name,i.name,s.name]).directive("review",u);return u.$inject=["NG_APPS_URL"],l}),define("ng-root/services/course-quality/review-service",["angular","angular-resource"],function(e){"use strict";function t(e,t,n){var i=this;i.createReview=function(n){return e({method:"POST",url:"/api-2.0/quality-review-processes/",data:{course:n}}).then(function(e){return new t(e.data)})},i.setReview=function(n,i){return e({method:"PATCH",url:"/api-2.0/quality-review-processes/"+n,data:{status:i}}).then(function(e){return new t(e.data)})}}function n(e){function t(e){this.admin_rating=e.admin_rating,this.id=e.id,this.all_reviewers=(e.all_reviewers||[]).filter(function(e){return""!==e.name}).map(function(e){return e.name}),this.reviewer=(e.reviewer_user||{name:""}).name,this.status=e.status,this.course={id:e.course.id,backdoor_login_url:e.course.backdoor_login_url,test_video_url:e.course.backdoor_login_url.replace("?","test-video/?"),created:e.course.created,image:e.course.image_125_H,instructor_email:e.course.visible_instructors.length>0?e.course.visible_instructors[0].email:"",instructor_image:e.course.visible_instructors.length>0?e.course.visible_instructors[0].image_50x50:"",instructor_name:e.course.visible_instructors.length>0?e.course.visible_instructors[0].name:"",instructor_url:e.course.visible_instructors.length>0?e.course.visible_instructors[0].url:"",is_private:e.course.is_private?"Yes":"No",is_banned:0===e.admin_rating,locale:(e.course.locale||{title:""}).title,title:e.course.title,url:e.course.url}}return t}var i={draft:"draft",needs_fixes:"needs_fixes",submitted:"submitted_for_review",resubmitted:"resubmitted",in_review:"in_review",in_final_review:"submitted_for_final_review",waiting:"waiting_for_reply",approved:"approved"};return e.module("apps.reviewAdminInbox.reviewService",["ngResource"]).constant("REVIEW_STATUS",i).factory("Review",["REVIEW_STATUS",n]).service("reviewService",["$http","Review","$resource",t])}),define("ng-root/services/course-quality/feedback-service",["angular","./review-service","ud-me"],function(e,t,n){"use strict";function i(e,t,i,r){var a=this;a.courseId="",a.reviewId="",a.reviewStatus="",a.needsFixFeedbacksUnresolved=0,a.acceptableFeedbacksUnresolved=0,a.getFeedbacks=function(){return e({method:"GET",url:"/api-2.0/quality-review-processes/"+a.reviewId+"/quality-criteria-feedbacks",params:{"fields[quality_criteria]":"@min,solution_url,solution_text"}}).then(function(e){return e.data.results.map(function(e){return a.simplifiedFeedback(e)})})},a.updateIsFixed=function(t,n){return e({method:"PATCH",url:"/api-2.0/quality-review-processes/"+a.reviewId+"/quality-criteria-feedbacks/"+t.id,data:{is_marked_as_fixed:n}})},a.submitReview=function(){return a.reviewId?r.setReview(a.reviewId,i.resubmitted):a.courseId?r.createReview(a.courseId):void 0},a.isResolved=function(e){return e.isMarkedAsFixed||a.instructorRepliedMostRecently(e)},a.instructorRepliedMostRecently=function(e){var t=e.comments;return t&&t.length>0&&t[0].user.id==n.id},a.instructorRepliedOnce=function(e){for(var t=e.comments||[],i=0;i<t.length;i++)if(t[i].user.id==n.id)return!0;return!1},a.reviewerRepliedMostRecently=function(e){return e.comments&&e.comments.length>0&&!a.instructorRepliedMostRecently(e)},a.resolveFeedback=function(e){a.isResolved(e)||(e.rating===t.needs_fix?a.needsFixFeedbacksUnresolved-=1:e.rating===t.acceptable&&(a.acceptableFeedbacksUnresolved-=1))},a.addUnresolvedFeedback=function(e){a.isResolved(e)||(e.rating===t.needs_fix?a.needsFixFeedbacksUnresolved+=1:e.rating===t.acceptable&&(a.acceptableFeedbacksUnresolved+=1))},a.simplifiedFeedback=function(e){return{comments:e.comment_thread.comments,commentThreadId:e.comment_thread.id,created:e.created,id:e.id,isMarkedAsFixed:e.is_marked_as_fixed,isOpen:!1,rating:e.rating,solutionText:e.quality_criteria.solution_text,solutionUrl:e.quality_criteria.solution_url,title:e.quality_criteria.title}}}var r={needs_fix:"needs_fix",acceptable:"acceptable",exceptional:"exceptional"};return e.module("services.qualityFeedback.feedbackService",[t.name]).constant("FEEDBACK_RATING",r).service("feedbackService",["$http","FEEDBACK_RATING","REVIEW_STATUS","reviewService",i])}),define("course-taking-dashboard.app/quality-feedback/quality-feedback-controller",["angular","ng-root/services/course-quality/feedback-service"],function(e,t){"use strict";function n(e,t,n){e.needsFixFeedbacksUnresolved=0,e.init=function(i){i&&(n.reviewId=i,n.getFeedbacks().then(function(i){e.needsFixFeedbacksUnresolved=i.filter(function(e){return e.rating===t.needs_fix&&!n.isResolved(e)}).length}))}}return e.module("apps.courseTakingDashboard.qualityFeedbackController",[t.name]).controller("QualityFeedbackController",["$scope","FEEDBACK_RATING","feedbackService",n])}),define("course-taking-dashboard.app/app",["angular","angular-animate","angular-route","angular-timer","ui-bootstrap","ud-core","../../config/http-interceptors","../../services","../../filters","../../directives-common","../../directives-activity","../../libs/module","./dashboard/module","./free-preview/module","./activities/module","./curriculum/module","./review/review","./quality-feedback/quality-feedback-controller","./beta-opt-in/module"],function(e,t,n,i,r,a,o,s,c,u,l,d,p,m,f,g,h,v,y){"use strict";var b={pageName:"lecture",resolve:{initService:["$route","$rootScope","CourseTakingDashboardService","betaOptInService",function(e,t,n,i){var r=e.current.params.id.split(":")[0],a=e.current.params.type,o=function(){t.$broadcast("loadDashboard"),n.initLectureTaking(r,a)};return i.canAccessV4(t.courseId,t.isPreviewer,t.instructorPreviewMode).then(function(e){e?i.toNewDashboard(t.publishedTitle,{type:a,id:r}):o()},o)}]}},w=e.module("apps.courseTakingDashboard",["ngAnimate","ngRoute","timer","ui.bootstrap","libs",a.name,"controllers","directives.common","filters","directives",p.name,m.name,f.name,g.name,h.name,y.name,v.name]).config(["$routeProvider",function(e){e.when("/",{controller:"DiscussionActivitiesController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html",pageName:"dashboard"}).when("/discussions",{controller:"DiscussionActivitiesController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html",pageName:"dashboard"}).when("/announcements",{controller:"AnnouncementsController",templateUrl:"/staticx/udemy/js/ng/apps/course-taking-dashboard/activities/all-activities.html",pageName:"dashboard"}).when("/:type/:id",b).otherwise({redirectTo:"/"})}]).config(o).run(["$route",e.noop]);return w});
//# sourceMappingURL=app.js.map